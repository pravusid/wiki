<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis | TIL wiki</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/wiki/assets/css/0.styles.28a8e502.css" as="style"><link rel="preload" href="/wiki/assets/js/app.23902a06.js" as="script"><link rel="preload" href="/wiki/assets/js/2.05cc4ee4.js" as="script"><link rel="preload" href="/wiki/assets/js/42.6a67d6f9.js" as="script"><link rel="prefetch" href="/wiki/assets/js/10.c2cbf9b1.js"><link rel="prefetch" href="/wiki/assets/js/100.d9ece215.js"><link rel="prefetch" href="/wiki/assets/js/101.edae5c11.js"><link rel="prefetch" href="/wiki/assets/js/102.381f614f.js"><link rel="prefetch" href="/wiki/assets/js/103.16575551.js"><link rel="prefetch" href="/wiki/assets/js/104.7d3a21f2.js"><link rel="prefetch" href="/wiki/assets/js/105.63cba67d.js"><link rel="prefetch" href="/wiki/assets/js/106.62ffc960.js"><link rel="prefetch" href="/wiki/assets/js/107.6d77910f.js"><link rel="prefetch" href="/wiki/assets/js/108.ecaaf132.js"><link rel="prefetch" href="/wiki/assets/js/109.19a81e65.js"><link rel="prefetch" href="/wiki/assets/js/11.90cbe306.js"><link rel="prefetch" href="/wiki/assets/js/110.0f0c981d.js"><link rel="prefetch" href="/wiki/assets/js/111.5a445bcf.js"><link rel="prefetch" href="/wiki/assets/js/112.6fa39eea.js"><link rel="prefetch" href="/wiki/assets/js/113.365bb6aa.js"><link rel="prefetch" href="/wiki/assets/js/114.fa5dd441.js"><link rel="prefetch" href="/wiki/assets/js/115.769fbe49.js"><link rel="prefetch" href="/wiki/assets/js/116.ffeb178b.js"><link rel="prefetch" href="/wiki/assets/js/117.c7f8b4ee.js"><link rel="prefetch" href="/wiki/assets/js/118.6908ced6.js"><link rel="prefetch" href="/wiki/assets/js/119.33c82c3c.js"><link rel="prefetch" href="/wiki/assets/js/12.a9867bc5.js"><link rel="prefetch" href="/wiki/assets/js/120.032932a6.js"><link rel="prefetch" href="/wiki/assets/js/121.2e0febeb.js"><link rel="prefetch" href="/wiki/assets/js/122.74089939.js"><link rel="prefetch" href="/wiki/assets/js/123.02d8112e.js"><link rel="prefetch" href="/wiki/assets/js/124.ea640ee2.js"><link rel="prefetch" href="/wiki/assets/js/125.6917dd74.js"><link rel="prefetch" href="/wiki/assets/js/126.179e09aa.js"><link rel="prefetch" href="/wiki/assets/js/127.05243eb2.js"><link rel="prefetch" href="/wiki/assets/js/128.fac7cd49.js"><link rel="prefetch" href="/wiki/assets/js/129.333d4601.js"><link rel="prefetch" href="/wiki/assets/js/13.ea3fc194.js"><link rel="prefetch" href="/wiki/assets/js/130.f577f4b4.js"><link rel="prefetch" href="/wiki/assets/js/131.08e88368.js"><link rel="prefetch" href="/wiki/assets/js/132.4ec850fa.js"><link rel="prefetch" href="/wiki/assets/js/133.94d151bd.js"><link rel="prefetch" href="/wiki/assets/js/134.5d0a6f0c.js"><link rel="prefetch" href="/wiki/assets/js/135.2fbdf321.js"><link rel="prefetch" href="/wiki/assets/js/136.ddcabf0e.js"><link rel="prefetch" href="/wiki/assets/js/137.565b9001.js"><link rel="prefetch" href="/wiki/assets/js/138.f499093b.js"><link rel="prefetch" href="/wiki/assets/js/139.e36655eb.js"><link rel="prefetch" href="/wiki/assets/js/14.c5dc23f3.js"><link rel="prefetch" href="/wiki/assets/js/140.cef8f823.js"><link rel="prefetch" href="/wiki/assets/js/141.051fcfb1.js"><link rel="prefetch" href="/wiki/assets/js/142.29d8b4bf.js"><link rel="prefetch" href="/wiki/assets/js/143.53314632.js"><link rel="prefetch" href="/wiki/assets/js/144.16fa88da.js"><link rel="prefetch" href="/wiki/assets/js/145.45071f5e.js"><link rel="prefetch" href="/wiki/assets/js/146.de76a5ca.js"><link rel="prefetch" href="/wiki/assets/js/147.a655bdf5.js"><link rel="prefetch" href="/wiki/assets/js/148.1ddadf89.js"><link rel="prefetch" href="/wiki/assets/js/149.c1cc9808.js"><link rel="prefetch" href="/wiki/assets/js/15.592b3cc9.js"><link rel="prefetch" href="/wiki/assets/js/150.abcfea9c.js"><link rel="prefetch" href="/wiki/assets/js/151.b70b8992.js"><link rel="prefetch" href="/wiki/assets/js/152.2370c6e2.js"><link rel="prefetch" href="/wiki/assets/js/153.da6d3141.js"><link rel="prefetch" href="/wiki/assets/js/154.a630443c.js"><link rel="prefetch" href="/wiki/assets/js/155.9f351173.js"><link rel="prefetch" href="/wiki/assets/js/156.90d0bce0.js"><link rel="prefetch" href="/wiki/assets/js/157.2782de4e.js"><link rel="prefetch" href="/wiki/assets/js/158.35d89cb8.js"><link rel="prefetch" href="/wiki/assets/js/159.ae855eae.js"><link rel="prefetch" href="/wiki/assets/js/16.153fa8d1.js"><link rel="prefetch" href="/wiki/assets/js/160.6ea415a9.js"><link rel="prefetch" href="/wiki/assets/js/161.cdc2a143.js"><link rel="prefetch" href="/wiki/assets/js/162.2b77bd42.js"><link rel="prefetch" href="/wiki/assets/js/163.d4c1d502.js"><link rel="prefetch" href="/wiki/assets/js/164.954182d2.js"><link rel="prefetch" href="/wiki/assets/js/165.742b73c1.js"><link rel="prefetch" href="/wiki/assets/js/166.0e886258.js"><link rel="prefetch" href="/wiki/assets/js/167.34f34440.js"><link rel="prefetch" href="/wiki/assets/js/168.00b46d69.js"><link rel="prefetch" href="/wiki/assets/js/169.cf80430d.js"><link rel="prefetch" href="/wiki/assets/js/17.8b00b715.js"><link rel="prefetch" href="/wiki/assets/js/170.f53d9210.js"><link rel="prefetch" href="/wiki/assets/js/171.00b34248.js"><link rel="prefetch" href="/wiki/assets/js/172.966533e8.js"><link rel="prefetch" href="/wiki/assets/js/173.b3ee643a.js"><link rel="prefetch" href="/wiki/assets/js/174.301b5ce3.js"><link rel="prefetch" href="/wiki/assets/js/175.390573f8.js"><link rel="prefetch" href="/wiki/assets/js/176.d4533b62.js"><link rel="prefetch" href="/wiki/assets/js/177.80cc1b64.js"><link rel="prefetch" href="/wiki/assets/js/178.57ca9172.js"><link rel="prefetch" href="/wiki/assets/js/179.e19f97b2.js"><link rel="prefetch" href="/wiki/assets/js/18.1459c3f4.js"><link rel="prefetch" href="/wiki/assets/js/180.975b09fc.js"><link rel="prefetch" href="/wiki/assets/js/181.120d8839.js"><link rel="prefetch" href="/wiki/assets/js/182.65698348.js"><link rel="prefetch" href="/wiki/assets/js/183.b6b4f390.js"><link rel="prefetch" href="/wiki/assets/js/184.9987f6db.js"><link rel="prefetch" href="/wiki/assets/js/185.9e991b4b.js"><link rel="prefetch" href="/wiki/assets/js/186.156f0af9.js"><link rel="prefetch" href="/wiki/assets/js/187.9b2fec25.js"><link rel="prefetch" href="/wiki/assets/js/188.758fcd1f.js"><link rel="prefetch" href="/wiki/assets/js/189.a0c0bb63.js"><link rel="prefetch" href="/wiki/assets/js/19.42b54539.js"><link rel="prefetch" href="/wiki/assets/js/190.44875e26.js"><link rel="prefetch" href="/wiki/assets/js/191.b0df9f15.js"><link rel="prefetch" href="/wiki/assets/js/192.9b575ceb.js"><link rel="prefetch" href="/wiki/assets/js/193.997a6172.js"><link rel="prefetch" href="/wiki/assets/js/194.136e9e58.js"><link rel="prefetch" href="/wiki/assets/js/195.1f3126c8.js"><link rel="prefetch" href="/wiki/assets/js/196.54e1d29e.js"><link rel="prefetch" href="/wiki/assets/js/197.8014c19f.js"><link rel="prefetch" href="/wiki/assets/js/198.7c71f1a7.js"><link rel="prefetch" href="/wiki/assets/js/199.97b61720.js"><link rel="prefetch" href="/wiki/assets/js/20.45c70d7a.js"><link rel="prefetch" href="/wiki/assets/js/200.8f4dfe75.js"><link rel="prefetch" href="/wiki/assets/js/201.58d5e1fd.js"><link rel="prefetch" href="/wiki/assets/js/202.5aca573d.js"><link rel="prefetch" href="/wiki/assets/js/203.e38824cf.js"><link rel="prefetch" href="/wiki/assets/js/204.c263abeb.js"><link rel="prefetch" href="/wiki/assets/js/205.1cd48600.js"><link rel="prefetch" href="/wiki/assets/js/206.3cb6beec.js"><link rel="prefetch" href="/wiki/assets/js/207.0a19416e.js"><link rel="prefetch" href="/wiki/assets/js/208.403734a5.js"><link rel="prefetch" href="/wiki/assets/js/209.d04de7af.js"><link rel="prefetch" href="/wiki/assets/js/21.d3d32552.js"><link rel="prefetch" href="/wiki/assets/js/210.bd61652f.js"><link rel="prefetch" href="/wiki/assets/js/211.010f2b1d.js"><link rel="prefetch" href="/wiki/assets/js/212.9afaf619.js"><link rel="prefetch" href="/wiki/assets/js/213.b01cc0f8.js"><link rel="prefetch" href="/wiki/assets/js/214.f4c6157d.js"><link rel="prefetch" href="/wiki/assets/js/215.5e9e83f3.js"><link rel="prefetch" href="/wiki/assets/js/216.8273b68f.js"><link rel="prefetch" href="/wiki/assets/js/217.0d2955bf.js"><link rel="prefetch" href="/wiki/assets/js/218.e48d37d5.js"><link rel="prefetch" href="/wiki/assets/js/219.489955a2.js"><link rel="prefetch" href="/wiki/assets/js/22.aea414f6.js"><link rel="prefetch" href="/wiki/assets/js/220.21f681f8.js"><link rel="prefetch" href="/wiki/assets/js/221.50fa40ea.js"><link rel="prefetch" href="/wiki/assets/js/222.231e819f.js"><link rel="prefetch" href="/wiki/assets/js/223.12b12b8d.js"><link rel="prefetch" href="/wiki/assets/js/224.fd15a4f0.js"><link rel="prefetch" href="/wiki/assets/js/225.75819c96.js"><link rel="prefetch" href="/wiki/assets/js/226.482abe44.js"><link rel="prefetch" href="/wiki/assets/js/227.aa67a0f6.js"><link rel="prefetch" href="/wiki/assets/js/228.ccd4cab8.js"><link rel="prefetch" href="/wiki/assets/js/229.66d2dd69.js"><link rel="prefetch" href="/wiki/assets/js/23.9bd108ad.js"><link rel="prefetch" href="/wiki/assets/js/230.145d0aec.js"><link rel="prefetch" href="/wiki/assets/js/231.4b3a6cd5.js"><link rel="prefetch" href="/wiki/assets/js/232.3ce40032.js"><link rel="prefetch" href="/wiki/assets/js/233.0d977391.js"><link rel="prefetch" href="/wiki/assets/js/234.f0379fcb.js"><link rel="prefetch" href="/wiki/assets/js/235.30b732d9.js"><link rel="prefetch" href="/wiki/assets/js/236.7706960e.js"><link rel="prefetch" href="/wiki/assets/js/237.c8833a86.js"><link rel="prefetch" href="/wiki/assets/js/238.63685d09.js"><link rel="prefetch" href="/wiki/assets/js/239.69d2867b.js"><link rel="prefetch" href="/wiki/assets/js/24.fa3396f0.js"><link rel="prefetch" href="/wiki/assets/js/240.656a01bf.js"><link rel="prefetch" href="/wiki/assets/js/241.f69b1b0c.js"><link rel="prefetch" href="/wiki/assets/js/242.3ffcf5bf.js"><link rel="prefetch" href="/wiki/assets/js/243.fcffde85.js"><link rel="prefetch" href="/wiki/assets/js/244.2222730d.js"><link rel="prefetch" href="/wiki/assets/js/245.b365a44d.js"><link rel="prefetch" href="/wiki/assets/js/246.93115e00.js"><link rel="prefetch" href="/wiki/assets/js/247.a019bbd0.js"><link rel="prefetch" href="/wiki/assets/js/248.fb42aa99.js"><link rel="prefetch" href="/wiki/assets/js/249.383da374.js"><link rel="prefetch" href="/wiki/assets/js/25.abe3d93c.js"><link rel="prefetch" href="/wiki/assets/js/250.43311092.js"><link rel="prefetch" href="/wiki/assets/js/251.4a843b9a.js"><link rel="prefetch" href="/wiki/assets/js/252.bb74b0b3.js"><link rel="prefetch" href="/wiki/assets/js/253.d9663610.js"><link rel="prefetch" href="/wiki/assets/js/254.e9074e73.js"><link rel="prefetch" href="/wiki/assets/js/255.05490592.js"><link rel="prefetch" href="/wiki/assets/js/256.a619b45f.js"><link rel="prefetch" href="/wiki/assets/js/257.3b616fe0.js"><link rel="prefetch" href="/wiki/assets/js/258.484e48cd.js"><link rel="prefetch" href="/wiki/assets/js/259.f6293367.js"><link rel="prefetch" href="/wiki/assets/js/26.2706b766.js"><link rel="prefetch" href="/wiki/assets/js/260.dd026a7a.js"><link rel="prefetch" href="/wiki/assets/js/261.de59c991.js"><link rel="prefetch" href="/wiki/assets/js/262.6d8865a8.js"><link rel="prefetch" href="/wiki/assets/js/263.f83c3c96.js"><link rel="prefetch" href="/wiki/assets/js/264.f4166a0e.js"><link rel="prefetch" href="/wiki/assets/js/265.82ea4b98.js"><link rel="prefetch" href="/wiki/assets/js/266.439bbfd4.js"><link rel="prefetch" href="/wiki/assets/js/267.8446bcb7.js"><link rel="prefetch" href="/wiki/assets/js/268.022f1fe7.js"><link rel="prefetch" href="/wiki/assets/js/269.0f049cec.js"><link rel="prefetch" href="/wiki/assets/js/27.98ecfca2.js"><link rel="prefetch" href="/wiki/assets/js/270.24a0193c.js"><link rel="prefetch" href="/wiki/assets/js/271.b34da550.js"><link rel="prefetch" href="/wiki/assets/js/272.c40ff14b.js"><link rel="prefetch" href="/wiki/assets/js/273.0eab6831.js"><link rel="prefetch" href="/wiki/assets/js/274.e7885b8a.js"><link rel="prefetch" href="/wiki/assets/js/275.3cbcc5db.js"><link rel="prefetch" href="/wiki/assets/js/276.8adefc4b.js"><link rel="prefetch" href="/wiki/assets/js/277.ce6b9484.js"><link rel="prefetch" href="/wiki/assets/js/278.f480a863.js"><link rel="prefetch" href="/wiki/assets/js/279.1e60807b.js"><link rel="prefetch" href="/wiki/assets/js/28.8039bde1.js"><link rel="prefetch" href="/wiki/assets/js/29.a4f576a1.js"><link rel="prefetch" href="/wiki/assets/js/3.054ff7ef.js"><link rel="prefetch" href="/wiki/assets/js/30.18b8b7a4.js"><link rel="prefetch" href="/wiki/assets/js/31.f8c9bcb3.js"><link rel="prefetch" href="/wiki/assets/js/32.1482e48e.js"><link rel="prefetch" href="/wiki/assets/js/33.dc4d4b1d.js"><link rel="prefetch" href="/wiki/assets/js/34.e7e96e02.js"><link rel="prefetch" href="/wiki/assets/js/35.4bfad697.js"><link rel="prefetch" href="/wiki/assets/js/36.d048b9a8.js"><link rel="prefetch" href="/wiki/assets/js/37.64c57dcd.js"><link rel="prefetch" href="/wiki/assets/js/38.46c9ca52.js"><link rel="prefetch" href="/wiki/assets/js/39.9a1912b8.js"><link rel="prefetch" href="/wiki/assets/js/4.70e730be.js"><link rel="prefetch" href="/wiki/assets/js/40.49a8286b.js"><link rel="prefetch" href="/wiki/assets/js/41.fb1455ec.js"><link rel="prefetch" href="/wiki/assets/js/43.b8402c8b.js"><link rel="prefetch" href="/wiki/assets/js/44.250bf3ac.js"><link rel="prefetch" href="/wiki/assets/js/45.4a53b81c.js"><link rel="prefetch" href="/wiki/assets/js/46.b9f5a7b8.js"><link rel="prefetch" href="/wiki/assets/js/47.2a660a6a.js"><link rel="prefetch" href="/wiki/assets/js/48.0ca54415.js"><link rel="prefetch" href="/wiki/assets/js/49.a0ebcaf5.js"><link rel="prefetch" href="/wiki/assets/js/5.611833a9.js"><link rel="prefetch" href="/wiki/assets/js/50.30ef3c09.js"><link rel="prefetch" href="/wiki/assets/js/51.ae4a2602.js"><link rel="prefetch" href="/wiki/assets/js/52.7d8bacc0.js"><link rel="prefetch" href="/wiki/assets/js/53.87772b14.js"><link rel="prefetch" href="/wiki/assets/js/54.fa9a6275.js"><link rel="prefetch" href="/wiki/assets/js/55.3af680ad.js"><link rel="prefetch" href="/wiki/assets/js/56.f4de3a56.js"><link rel="prefetch" href="/wiki/assets/js/57.b376b490.js"><link rel="prefetch" href="/wiki/assets/js/58.eba6c7f3.js"><link rel="prefetch" href="/wiki/assets/js/59.5b7dff43.js"><link rel="prefetch" href="/wiki/assets/js/6.b3198dbe.js"><link rel="prefetch" href="/wiki/assets/js/60.ed1f2d7a.js"><link rel="prefetch" href="/wiki/assets/js/61.ecc8568c.js"><link rel="prefetch" href="/wiki/assets/js/62.5873f416.js"><link rel="prefetch" href="/wiki/assets/js/63.ed26c365.js"><link rel="prefetch" href="/wiki/assets/js/64.395b81e7.js"><link rel="prefetch" href="/wiki/assets/js/65.397815e1.js"><link rel="prefetch" href="/wiki/assets/js/66.9c8eec52.js"><link rel="prefetch" href="/wiki/assets/js/67.d467d22a.js"><link rel="prefetch" href="/wiki/assets/js/68.36419fb9.js"><link rel="prefetch" href="/wiki/assets/js/69.13020274.js"><link rel="prefetch" href="/wiki/assets/js/7.b48a85c8.js"><link rel="prefetch" href="/wiki/assets/js/70.abc6f570.js"><link rel="prefetch" href="/wiki/assets/js/71.cbb3aaf3.js"><link rel="prefetch" href="/wiki/assets/js/72.f3f6c96d.js"><link rel="prefetch" href="/wiki/assets/js/73.faba80d4.js"><link rel="prefetch" href="/wiki/assets/js/74.8335c6a4.js"><link rel="prefetch" href="/wiki/assets/js/75.5b466a42.js"><link rel="prefetch" href="/wiki/assets/js/76.c4f1ea20.js"><link rel="prefetch" href="/wiki/assets/js/77.d8c51f9f.js"><link rel="prefetch" href="/wiki/assets/js/78.79bdf675.js"><link rel="prefetch" href="/wiki/assets/js/79.e52f0fa9.js"><link rel="prefetch" href="/wiki/assets/js/8.ed910aa6.js"><link rel="prefetch" href="/wiki/assets/js/80.7b253a62.js"><link rel="prefetch" href="/wiki/assets/js/81.d0d55aca.js"><link rel="prefetch" href="/wiki/assets/js/82.60bb4bb5.js"><link rel="prefetch" href="/wiki/assets/js/83.7fdc240f.js"><link rel="prefetch" href="/wiki/assets/js/84.d66a8d5e.js"><link rel="prefetch" href="/wiki/assets/js/85.d34e17e4.js"><link rel="prefetch" href="/wiki/assets/js/86.3eee31ca.js"><link rel="prefetch" href="/wiki/assets/js/87.58456576.js"><link rel="prefetch" href="/wiki/assets/js/88.9da467ec.js"><link rel="prefetch" href="/wiki/assets/js/89.5676428b.js"><link rel="prefetch" href="/wiki/assets/js/9.ddf634b9.js"><link rel="prefetch" href="/wiki/assets/js/90.25121bbe.js"><link rel="prefetch" href="/wiki/assets/js/91.0f0137b3.js"><link rel="prefetch" href="/wiki/assets/js/92.22bb9baa.js"><link rel="prefetch" href="/wiki/assets/js/93.e8efe7da.js"><link rel="prefetch" href="/wiki/assets/js/94.5e285791.js"><link rel="prefetch" href="/wiki/assets/js/95.ef2f5fb9.js"><link rel="prefetch" href="/wiki/assets/js/96.91f6d40f.js"><link rel="prefetch" href="/wiki/assets/js/97.c7158050.js"><link rel="prefetch" href="/wiki/assets/js/98.ea0a0c03.js"><link rel="prefetch" href="/wiki/assets/js/99.c5441fe4.js">
    <link rel="stylesheet" href="/wiki/assets/css/0.styles.28a8e502.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki/" class="home-link router-link-active"><!----> <span class="site-name">TIL wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/pravusid/TIL" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/pravusid/TIL" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/Database/redis.html#refs" class="sidebar-link">Refs</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/Database/redis.html#키-key" class="sidebar-link">키 (key)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/Database/redis.html#자료구조-data-structure" class="sidebar-link">자료구조 (data structure)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#strings" class="sidebar-link">strings</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#lists" class="sidebar-link">lists</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#hashes" class="sidebar-link">hashes</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#sets" class="sidebar-link">sets</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#sorted-sets" class="sidebar-link">sorted sets</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#기타-자료구조" class="sidebar-link">기타 자료구조</a></li></ul></li><li><a href="/wiki/Database/redis.html#캐시-전략" class="sidebar-link">캐시 전략</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#lazy-loading" class="sidebar-link">lazy loading</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#write-through" class="sidebar-link">write through</a></li></ul></li><li><a href="/wiki/Database/redis.html#persistence-영구저장" class="sidebar-link">Persistence (영구저장)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#aof-append-only-file" class="sidebar-link">AOF(Append Only File)</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#rdb-snapshot" class="sidebar-link">RDB(snapshot)</a></li></ul></li><li><a href="/wiki/Database/redis.html#보안" class="sidebar-link">보안</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#acl" class="sidebar-link">ACL</a></li></ul></li><li><a href="/wiki/Database/redis.html#replication" class="sidebar-link">Replication</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/Database/redis.html#sentinel" class="sidebar-link">Sentinel</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/Database/redis.html#cluster" class="sidebar-link">Cluster</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/Database/redis.html#활용사례" class="sidebar-link">활용사례</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#좋아요" class="sidebar-link">좋아요</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#일일-순-방문자" class="sidebar-link">일일 순 방문자</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#최근-검색-목록" class="sidebar-link">최근 검색 목록</a></li></ul></li><li><a href="/wiki/Database/redis.html#주의사항" class="sidebar-link">주의사항</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#maxclient-설정-값-변경" class="sidebar-link">maxclient 설정 값 변경</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#영구저장소로-사용하지-말것" class="sidebar-link">영구저장소로 사용하지 말것</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#메모리-관련설정을-잊지-말것" class="sidebar-link">메모리 관련설정을 잊지 말것</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#장애발생-가능성이-있는-커맨드-사용하지-말-것" class="sidebar-link">장애발생 가능성이 있는 커맨드 사용하지 말 것</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#컬렉션-하나에-너무-많은-아이템을-담지-말-것" class="sidebar-link">컬렉션 하나에 너무 많은 아이템을 담지 말 것</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#보안설정" class="sidebar-link">보안설정</a></li><li class="sidebar-sub-header"><a href="/wiki/Database/redis.html#배포구성-선택" class="sidebar-link">배포구성 선택</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="redis"><a href="#redis" class="header-anchor">#</a> Redis</h1> <ul><li>레디스는 오픈소스, 인-메모리 자료구조 저장소이며 데이터베이스, 캐시, 메시지브로커, 스트리밍엔진으로 사용될 수 있다</li> <li>레디스는 strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglog, geospatial indexs 그리고 streams 자료구조를 지원한다</li> <li>레디스는 내장 복제기능, lua scripting, LRU eviction, transactions 그리고 여러 단계의 디스크 저장을 지원한다</li> <li>레디스 센티넬을 통해 고가용성을, 레디스 클러스터를 통해 자동 파티셔닝을 지원한다</li></ul> <blockquote><p>-- <a href="https://redis.io/docs/about/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/about/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ul><li>레디스는 요청을 직렬처리한다</li></ul> <blockquote><p>-- <a href="https://redis.io/docs/reference/optimization/latency/#single-threaded-nature-of-redis" target="_blank" rel="noopener noreferrer">https://redis.io/docs/reference/optimization/latency/#single-threaded-nature-of-redis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="refs"><a href="#refs" class="header-anchor">#</a> Refs</h2> <ul><li><a href="https://redis.io/docs/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://meetup.toast.com/posts/224" target="_blank" rel="noopener noreferrer">https://meetup.toast.com/posts/224<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://meetup.toast.com/posts/225" target="_blank" rel="noopener noreferrer">https://meetup.toast.com/posts/225<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://meetup.toast.com/posts/226" target="_blank" rel="noopener noreferrer">https://meetup.toast.com/posts/226<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://meetup.toast.com/posts/227" target="_blank" rel="noopener noreferrer">https://meetup.toast.com/posts/227<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://meetup.toast.com/posts/251" target="_blank" rel="noopener noreferrer">https://meetup.toast.com/posts/251<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://meetup.toast.com/posts/245" target="_blank" rel="noopener noreferrer">https://meetup.toast.com/posts/245<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://tech.kakao.com/2020/11/10/if-kakao-2020-commentary-01-kakao/" target="_blank" rel="noopener noreferrer">https://tech.kakao.com/2020/11/10/if-kakao-2020-commentary-01-kakao/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://tech.kakao.com/2022/02/09/k8s-redis/" target="_blank" rel="noopener noreferrer">https://tech.kakao.com/2022/02/09/k8s-redis/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://deview.kr/2021/sessions/526" target="_blank" rel="noopener noreferrer">https://deview.kr/2021/sessions/526<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.youtube.com/watch?v=mPB2CZiAkKM" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=mPB2CZiAkKM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.youtube.com/watch?v=92NizoBL4uA" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=92NizoBL4uA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="키-key"><a href="#키-key" class="header-anchor">#</a> 키 (key)</h2> <ul><li>문자열을 사용한다 (빈문자열도 허용)</li> <li>최대 크기는 512Mb</li></ul> <h2 id="자료구조-data-structure"><a href="#자료구조-data-structure" class="header-anchor">#</a> 자료구조 (data structure)</h2> <p><a href="https://redis.io/docs/data-types/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/data-types/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="strings"><a href="#strings" class="header-anchor">#</a> strings</h3> <ul><li>기본 자료구조로 볼 수 있다</li> <li>최대 크기는 512MB</li> <li><code>incr</code> <code>getset</code> 등을 사용할 수 있다</li></ul> <h3 id="lists"><a href="#lists" class="header-anchor">#</a> lists</h3> <ul><li>linked list 자료구조이다</li></ul> <h3 id="hashes"><a href="#hashes" class="header-anchor">#</a> hashes</h3> <ul><li>key 값에 대응하는 value 구조가 <code>{ [field]: value }</code> 이다</li></ul> <h3 id="sets"><a href="#sets" class="header-anchor">#</a> sets</h3> <ul><li>중복되지 않고 정렬되지 않은 문자열 집합이다</li> <li>집합연산을 수행할 수 있다</li></ul> <h3 id="sorted-sets"><a href="#sorted-sets" class="header-anchor">#</a> sorted sets</h3> <ul><li>중복되지는 않으나 score 값으로 정렬된 문자열 집합이다</li> <li>정렬된 값들을 빠르게 조회할 수 있다</li></ul> <h3 id="기타-자료구조"><a href="#기타-자료구조" class="header-anchor">#</a> 기타 자료구조</h3> <blockquote><p>bitmaps, hyperloglog, geospatial indexs, streams ...</p></blockquote> <h2 id="캐시-전략"><a href="#캐시-전략" class="header-anchor">#</a> 캐시 전략</h2> <p><a href="https://docs.aws.amazon.com/ko_kr/AmazonElastiCache/latest/red-ug/Strategies.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/ko_kr/AmazonElastiCache/latest/red-ug/Strategies.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="lazy-loading"><a href="#lazy-loading" class="header-anchor">#</a> lazy loading</h3> <ul><li>캐시에 데이터 요청</li> <li>캐시 적중
<ul><li>캐시는 데이터를 반환한다</li></ul></li> <li>캐시 누락
<ul><li>캐시는 null을 반환</li> <li>애플리케이션은 원본 데이터를 조회</li> <li>애플리케이션은 조회한 데이터를 캐시에 업데이트 하고 사용함</li></ul></li></ul> <p>pros &amp; cons</p> <ul><li>장점
<ul><li>요청된 데이터만 캐싱</li> <li>장애가 애플리케이션에 치명적인 영향을 주지 않음</li></ul></li> <li>단점
<ul><li>캐시가 누락된 상황에서 성능상 손해가 발생</li> <li>캐시 누락 상황에서만 캐시를 업데이트 하면 outdated 발생할 수 있음</li></ul></li></ul> <h3 id="write-through"><a href="#write-through" class="header-anchor">#</a> write through</h3> <p>데이터베이스에 데이터를 작성할 때마다 캐시를 업데이트 함</p> <p>pros &amp; cons</p> <ul><li>장점
<ul><li>outdated 캐시가 없음</li> <li>캐시 누락상황의 페널티가 없음</li></ul></li> <li>단점
<ul><li>데이터 쓰기를 할 때마다 페널티가 발생 (원본 + 캐시 중복입력)</li> <li>노드 장애등으로 데이터가 누락될 수 있음</li> <li>캐시 이탈 (대부분의 데이터는 사용될 일이 없음) -&gt; TTL 사용</li></ul></li></ul> <h2 id="persistence-영구저장"><a href="#persistence-영구저장" class="header-anchor">#</a> Persistence (영구저장)</h2> <p><a href="http://redisgate.kr/redis/configuration/persistence.php" target="_blank" rel="noopener noreferrer">http://redisgate.kr/redis/configuration/persistence.php<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="aof-append-only-file"><a href="#aof-append-only-file" class="header-anchor">#</a> AOF(Append Only File)</h3> <ul><li>입력/수정/삭제 명령이 실행될 때 마다 appendonly.aof 파일에 기록됨</li> <li>기본적으로 파일에 append를 실행하지만, 계속 추가만하면 파일이 너무 커지므로 특정시점에 전체 데이터를 다시 쓴다</li></ul> <h3 id="rdb-snapshot"><a href="#rdb-snapshot" class="header-anchor">#</a> RDB(snapshot)</h3> <ul><li>RDB는 특정 시점의 메모리에 있는 데이터 전체를 바이너리 파일로 저장</li> <li>AOF 파일보다 사이즈가 작다</li> <li><code>BGSAVE</code> 또는 <code>SAVE</code> 명령으로 RDB 파일을 생성할 수 있다</li></ul> <h2 id="보안"><a href="#보안" class="header-anchor">#</a> 보안</h2> <h3 id="acl"><a href="#acl" class="header-anchor">#</a> ACL</h3> <p><a href="https://redis.io/docs/manual/security/acl/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/manual/security/acl/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="replication"><a href="#replication" class="header-anchor">#</a> Replication</h2> <p><a href="https://redis.io/docs/manual/replication/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/manual/replication/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>하나의 master 노드</li> <li>다수의 replica 노드 (replica-replica 관계도 가능)</li></ul> <blockquote><p>This is how a full synchronization works in more details:</p> <p>The master starts a background saving process to produce an RDB file.
At the same time it starts to buffer all new write commands received from the clients.
When the background saving is complete, the master transfers the database file to the replica,
which saves it on disk, and then loads it into memory.
The master will then send all buffered commands to the replica.
This is done as a stream of commands and is in the same format of the Redis protocol itself.</p></blockquote> <h2 id="sentinel"><a href="#sentinel" class="header-anchor">#</a> Sentinel</h2> <p><a href="https://redis.io/docs/manual/sentinel/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/manual/sentinel/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>장애 상황에서 replica 노드를 master 노드로 승격시켜 failover 진행</p> <h2 id="cluster"><a href="#cluster" class="header-anchor">#</a> Cluster</h2> <p><a href="https://redis.io/docs/manual/scaling/" target="_blank" rel="noopener noreferrer">https://redis.io/docs/manual/scaling/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="활용사례"><a href="#활용사례" class="header-anchor">#</a> 활용사례</h2> <p><a href="https://devs0n.tistory.com/92" target="_blank" rel="noopener noreferrer">https://devs0n.tistory.com/92<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="좋아요"><a href="#좋아요" class="header-anchor">#</a> 좋아요</h3> <ul><li>key: <code>comment:like:{userId}</code></li> <li>dataType: <code>set</code></li></ul> <h3 id="일일-순-방문자"><a href="#일일-순-방문자" class="header-anchor">#</a> 일일 순 방문자</h3> <ul><li>key <code>visitors:{YYYYMMDD}</code></li> <li>dataType: <code>bitmap</code></li> <li>userId -&gt; offset으로 처리하고 <code>BITOP and</code> 연산</li></ul> <h3 id="최근-검색-목록"><a href="#최근-검색-목록" class="header-anchor">#</a> 최근 검색 목록</h3> <ul><li>key: <code>history:{userId}</code></li> <li>dataType: <code>sorted set</code></li> <li>unixtime을 가중치로 사용</li> <li>n개만 관리한다면
<ul><li>데이터 추가 후</li> <li><code>ZREMRANGEBYRANK</code> 명령으로 <code>-(n+1)</code>번째 데이터를 삭제함</li></ul></li></ul> <h2 id="주의사항"><a href="#주의사항" class="header-anchor">#</a> 주의사항</h2> <h3 id="maxclient-설정-값-변경"><a href="#maxclient-설정-값-변경" class="header-anchor">#</a> maxclient 설정 값 변경</h3> <p>50,000 정도로 설정할 것</p> <h3 id="영구저장소로-사용하지-말것"><a href="#영구저장소로-사용하지-말것" class="header-anchor">#</a> 영구저장소로 사용하지 말것</h3> <ul><li>AOF, RDB 기능은 성능을 떨어뜨리고 장애 발생가능성을 높임</li> <li>만약, 스토리지로 사용한다면 AOF를 사용하는 것이 나음</li></ul> <p>관련 <code>redis.conf</code> 설정</p> <div class="language-conf line-numbers-mode"><pre class="language-text"><code># RDB
save &quot;&quot;
stop-writes-on-bgsave-error no

# AOF
appendonly no
auto-aof-rewrite-percentage 100
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="메모리-관련설정을-잊지-말것"><a href="#메모리-관련설정을-잊지-말것" class="header-anchor">#</a> 메모리 관련설정을 잊지 말것</h3> <ul><li>물리적 메모리보다 더 많은 용량을 사용하게 되면 swap을 사용하면서 속도가 매우 느려짐</li> <li>maxmemory 설정량보다 더 많은 값을 사용할 수 있으므로 설정은 가용메모리의 60~70% 정도로 지정</li> <li>메모리 설정 및 RSS(Resident Set Size) 값 모니터링 필요</li> <li>ziplist 설정으로 메모리 사용량을 줄일 수도 있다</li></ul> <div class="language-conf line-numbers-mode"><pre class="language-text"><code>maxmemory &lt;가용 메모리의 60~70%&gt;
maxmemory-policy volatile-lru
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="장애발생-가능성이-있는-커맨드-사용하지-말-것"><a href="#장애발생-가능성이-있는-커맨드-사용하지-말-것" class="header-anchor">#</a> 장애발생 가능성이 있는 커맨드 사용하지 말 것</h3> <p><code>O(N)</code> 시간복잡도로 작동하는 커맨드는 장애를 일으킬 수 있다</p> <h3 id="컬렉션-하나에-너무-많은-아이템을-담지-말-것"><a href="#컬렉션-하나에-너무-많은-아이템을-담지-말-것" class="header-anchor">#</a> 컬렉션 하나에 너무 많은 아이템을 담지 말 것</h3> <p>10,000개를 넘어가면 성능상문제가 발생할 가능성이 있다</p> <h3 id="보안설정"><a href="#보안설정" class="header-anchor">#</a> 보안설정</h3> <ul><li>protected-mode: <code>bind</code> 옵션으로 지정한 ip 또는 loop-back만 접속 허용</li> <li>bind: 최대 16개 까지 접속을 허용할 ip를 지정할 수 있음</li> <li>requirepass: 접속에 사용할 비밀번호 지정</li></ul> <h3 id="배포구성-선택"><a href="#배포구성-선택" class="header-anchor">#</a> 배포구성 선택</h3> <ul><li><p>고가용필요</p> <ul><li>샤딩필요 -&gt; cluster</li> <li>샤딩불필요 -&gt; sentinel</li></ul></li> <li><p>고가용불필요</p> <ul><li>master-replica</li> <li>stand-alone</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/wiki/assets/js/app.23902a06.js" defer></script><script src="/wiki/assets/js/2.05cc4ee4.js" defer></script><script src="/wiki/assets/js/42.6a67d6f9.js" defer></script>
  </body>
</html>
