<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>클래스, 객체, 인터페이스 | TIL wiki</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/wiki/assets/css/0.styles.28a8e502.css" as="style"><link rel="preload" href="/wiki/assets/js/app.dab5d097.js" as="script"><link rel="preload" href="/wiki/assets/js/2.05cc4ee4.js" as="script"><link rel="preload" href="/wiki/assets/js/114.cc981375.js" as="script"><link rel="prefetch" href="/wiki/assets/js/10.c2cbf9b1.js"><link rel="prefetch" href="/wiki/assets/js/100.e2ac3554.js"><link rel="prefetch" href="/wiki/assets/js/101.06ce47c8.js"><link rel="prefetch" href="/wiki/assets/js/102.4ef45d96.js"><link rel="prefetch" href="/wiki/assets/js/103.1c74832c.js"><link rel="prefetch" href="/wiki/assets/js/104.5a60f590.js"><link rel="prefetch" href="/wiki/assets/js/105.5ce73ccd.js"><link rel="prefetch" href="/wiki/assets/js/106.36c411cc.js"><link rel="prefetch" href="/wiki/assets/js/107.7d6cffb3.js"><link rel="prefetch" href="/wiki/assets/js/108.f3902fdc.js"><link rel="prefetch" href="/wiki/assets/js/109.fbf918d7.js"><link rel="prefetch" href="/wiki/assets/js/11.90cbe306.js"><link rel="prefetch" href="/wiki/assets/js/110.f6812a0c.js"><link rel="prefetch" href="/wiki/assets/js/111.5c433510.js"><link rel="prefetch" href="/wiki/assets/js/112.55916a74.js"><link rel="prefetch" href="/wiki/assets/js/113.2b70e654.js"><link rel="prefetch" href="/wiki/assets/js/115.e9c06231.js"><link rel="prefetch" href="/wiki/assets/js/116.78d93c71.js"><link rel="prefetch" href="/wiki/assets/js/117.66fe53a4.js"><link rel="prefetch" href="/wiki/assets/js/118.e573f94a.js"><link rel="prefetch" href="/wiki/assets/js/119.cdddd29c.js"><link rel="prefetch" href="/wiki/assets/js/12.a9867bc5.js"><link rel="prefetch" href="/wiki/assets/js/120.d57fe9f4.js"><link rel="prefetch" href="/wiki/assets/js/121.a109fad7.js"><link rel="prefetch" href="/wiki/assets/js/122.b1ebbc09.js"><link rel="prefetch" href="/wiki/assets/js/123.be62c15f.js"><link rel="prefetch" href="/wiki/assets/js/124.0587e06a.js"><link rel="prefetch" href="/wiki/assets/js/125.3e3274c7.js"><link rel="prefetch" href="/wiki/assets/js/126.652520f1.js"><link rel="prefetch" href="/wiki/assets/js/127.3183bdfa.js"><link rel="prefetch" href="/wiki/assets/js/128.c5546c70.js"><link rel="prefetch" href="/wiki/assets/js/129.35a5552c.js"><link rel="prefetch" href="/wiki/assets/js/13.ea3fc194.js"><link rel="prefetch" href="/wiki/assets/js/130.a7325849.js"><link rel="prefetch" href="/wiki/assets/js/131.a6e051e2.js"><link rel="prefetch" href="/wiki/assets/js/132.4eb47f9e.js"><link rel="prefetch" href="/wiki/assets/js/133.92678bee.js"><link rel="prefetch" href="/wiki/assets/js/134.f2c749af.js"><link rel="prefetch" href="/wiki/assets/js/135.c03b5097.js"><link rel="prefetch" href="/wiki/assets/js/136.d09377f2.js"><link rel="prefetch" href="/wiki/assets/js/137.ddbcc2ce.js"><link rel="prefetch" href="/wiki/assets/js/138.1a433b98.js"><link rel="prefetch" href="/wiki/assets/js/139.03b7faf8.js"><link rel="prefetch" href="/wiki/assets/js/14.c5dc23f3.js"><link rel="prefetch" href="/wiki/assets/js/140.98f37061.js"><link rel="prefetch" href="/wiki/assets/js/141.287bbef3.js"><link rel="prefetch" href="/wiki/assets/js/142.4e338f48.js"><link rel="prefetch" href="/wiki/assets/js/143.aa4be704.js"><link rel="prefetch" href="/wiki/assets/js/144.70460893.js"><link rel="prefetch" href="/wiki/assets/js/145.da46f93d.js"><link rel="prefetch" href="/wiki/assets/js/146.33300d35.js"><link rel="prefetch" href="/wiki/assets/js/147.52195559.js"><link rel="prefetch" href="/wiki/assets/js/148.848f5b1b.js"><link rel="prefetch" href="/wiki/assets/js/149.1a15c386.js"><link rel="prefetch" href="/wiki/assets/js/15.6461f7ab.js"><link rel="prefetch" href="/wiki/assets/js/150.6737f2d9.js"><link rel="prefetch" href="/wiki/assets/js/151.5dd6e41d.js"><link rel="prefetch" href="/wiki/assets/js/152.8875ad9f.js"><link rel="prefetch" href="/wiki/assets/js/153.39d05462.js"><link rel="prefetch" href="/wiki/assets/js/154.f3d53d8d.js"><link rel="prefetch" href="/wiki/assets/js/155.6d963205.js"><link rel="prefetch" href="/wiki/assets/js/156.8824a224.js"><link rel="prefetch" href="/wiki/assets/js/157.397a5a5d.js"><link rel="prefetch" href="/wiki/assets/js/158.5d553ca3.js"><link rel="prefetch" href="/wiki/assets/js/159.2ce02963.js"><link rel="prefetch" href="/wiki/assets/js/16.8de09774.js"><link rel="prefetch" href="/wiki/assets/js/160.91c2b0c3.js"><link rel="prefetch" href="/wiki/assets/js/161.9eccb2fc.js"><link rel="prefetch" href="/wiki/assets/js/162.90253994.js"><link rel="prefetch" href="/wiki/assets/js/163.c068f362.js"><link rel="prefetch" href="/wiki/assets/js/164.3bea5fc5.js"><link rel="prefetch" href="/wiki/assets/js/165.2c6a8eb4.js"><link rel="prefetch" href="/wiki/assets/js/166.46c09a5b.js"><link rel="prefetch" href="/wiki/assets/js/167.2c24cc7b.js"><link rel="prefetch" href="/wiki/assets/js/168.8a2856be.js"><link rel="prefetch" href="/wiki/assets/js/169.7bb5ec12.js"><link rel="prefetch" href="/wiki/assets/js/17.8b00b715.js"><link rel="prefetch" href="/wiki/assets/js/170.515ed2d9.js"><link rel="prefetch" href="/wiki/assets/js/171.cc32bba3.js"><link rel="prefetch" href="/wiki/assets/js/172.529d7080.js"><link rel="prefetch" href="/wiki/assets/js/173.fa199918.js"><link rel="prefetch" href="/wiki/assets/js/174.915dd9aa.js"><link rel="prefetch" href="/wiki/assets/js/175.faea6d11.js"><link rel="prefetch" href="/wiki/assets/js/176.f0a9a609.js"><link rel="prefetch" href="/wiki/assets/js/177.feac5806.js"><link rel="prefetch" href="/wiki/assets/js/178.3985f1d1.js"><link rel="prefetch" href="/wiki/assets/js/179.523cbe1e.js"><link rel="prefetch" href="/wiki/assets/js/18.0f152aa8.js"><link rel="prefetch" href="/wiki/assets/js/180.9bda13d4.js"><link rel="prefetch" href="/wiki/assets/js/181.cd018d59.js"><link rel="prefetch" href="/wiki/assets/js/182.0c71680e.js"><link rel="prefetch" href="/wiki/assets/js/183.e94698fd.js"><link rel="prefetch" href="/wiki/assets/js/184.5ba3bd1f.js"><link rel="prefetch" href="/wiki/assets/js/185.fdc0d62c.js"><link rel="prefetch" href="/wiki/assets/js/186.526efa4a.js"><link rel="prefetch" href="/wiki/assets/js/187.72c347d5.js"><link rel="prefetch" href="/wiki/assets/js/188.e7387f3a.js"><link rel="prefetch" href="/wiki/assets/js/189.6012594d.js"><link rel="prefetch" href="/wiki/assets/js/19.42b54539.js"><link rel="prefetch" href="/wiki/assets/js/190.bd488f2f.js"><link rel="prefetch" href="/wiki/assets/js/191.e5089d04.js"><link rel="prefetch" href="/wiki/assets/js/192.a5da609d.js"><link rel="prefetch" href="/wiki/assets/js/193.360efd92.js"><link rel="prefetch" href="/wiki/assets/js/194.e381a404.js"><link rel="prefetch" href="/wiki/assets/js/195.c4d233f9.js"><link rel="prefetch" href="/wiki/assets/js/196.cd6e561d.js"><link rel="prefetch" href="/wiki/assets/js/197.7201e825.js"><link rel="prefetch" href="/wiki/assets/js/198.ea04793d.js"><link rel="prefetch" href="/wiki/assets/js/199.c8775b6c.js"><link rel="prefetch" href="/wiki/assets/js/20.45c70d7a.js"><link rel="prefetch" href="/wiki/assets/js/200.2b34f949.js"><link rel="prefetch" href="/wiki/assets/js/201.c1306b52.js"><link rel="prefetch" href="/wiki/assets/js/202.f26321b8.js"><link rel="prefetch" href="/wiki/assets/js/203.30042523.js"><link rel="prefetch" href="/wiki/assets/js/204.e284f243.js"><link rel="prefetch" href="/wiki/assets/js/205.31e48468.js"><link rel="prefetch" href="/wiki/assets/js/206.352ae737.js"><link rel="prefetch" href="/wiki/assets/js/207.acdd2b27.js"><link rel="prefetch" href="/wiki/assets/js/208.9ea25710.js"><link rel="prefetch" href="/wiki/assets/js/209.04091c27.js"><link rel="prefetch" href="/wiki/assets/js/21.d3d32552.js"><link rel="prefetch" href="/wiki/assets/js/210.d3cab819.js"><link rel="prefetch" href="/wiki/assets/js/211.aa104a1f.js"><link rel="prefetch" href="/wiki/assets/js/212.186a5379.js"><link rel="prefetch" href="/wiki/assets/js/213.a17904ee.js"><link rel="prefetch" href="/wiki/assets/js/214.96767a7d.js"><link rel="prefetch" href="/wiki/assets/js/215.0af3a06a.js"><link rel="prefetch" href="/wiki/assets/js/216.cd5617bb.js"><link rel="prefetch" href="/wiki/assets/js/217.261581e0.js"><link rel="prefetch" href="/wiki/assets/js/218.8f9a02c8.js"><link rel="prefetch" href="/wiki/assets/js/219.a208d4be.js"><link rel="prefetch" href="/wiki/assets/js/22.aea414f6.js"><link rel="prefetch" href="/wiki/assets/js/220.456a255a.js"><link rel="prefetch" href="/wiki/assets/js/221.46b73b01.js"><link rel="prefetch" href="/wiki/assets/js/222.f884e51f.js"><link rel="prefetch" href="/wiki/assets/js/223.e605d8e3.js"><link rel="prefetch" href="/wiki/assets/js/224.02225df6.js"><link rel="prefetch" href="/wiki/assets/js/225.db265989.js"><link rel="prefetch" href="/wiki/assets/js/226.c39ff4d4.js"><link rel="prefetch" href="/wiki/assets/js/227.7bcc81db.js"><link rel="prefetch" href="/wiki/assets/js/228.ec595216.js"><link rel="prefetch" href="/wiki/assets/js/229.0ae011cd.js"><link rel="prefetch" href="/wiki/assets/js/23.9bd108ad.js"><link rel="prefetch" href="/wiki/assets/js/230.02091c7a.js"><link rel="prefetch" href="/wiki/assets/js/231.43946405.js"><link rel="prefetch" href="/wiki/assets/js/232.c77ab2fe.js"><link rel="prefetch" href="/wiki/assets/js/233.31328270.js"><link rel="prefetch" href="/wiki/assets/js/234.e4e17f29.js"><link rel="prefetch" href="/wiki/assets/js/235.7eba9959.js"><link rel="prefetch" href="/wiki/assets/js/236.9a000090.js"><link rel="prefetch" href="/wiki/assets/js/237.0998dfcc.js"><link rel="prefetch" href="/wiki/assets/js/238.cea2acdc.js"><link rel="prefetch" href="/wiki/assets/js/239.042da8da.js"><link rel="prefetch" href="/wiki/assets/js/24.fa3396f0.js"><link rel="prefetch" href="/wiki/assets/js/240.83c03666.js"><link rel="prefetch" href="/wiki/assets/js/241.1e59386b.js"><link rel="prefetch" href="/wiki/assets/js/242.3917d866.js"><link rel="prefetch" href="/wiki/assets/js/243.03e5ae2a.js"><link rel="prefetch" href="/wiki/assets/js/244.ecdc3a26.js"><link rel="prefetch" href="/wiki/assets/js/245.26e84e1d.js"><link rel="prefetch" href="/wiki/assets/js/246.95535f94.js"><link rel="prefetch" href="/wiki/assets/js/247.44064a94.js"><link rel="prefetch" href="/wiki/assets/js/248.33c47b1f.js"><link rel="prefetch" href="/wiki/assets/js/249.b5b2b1a2.js"><link rel="prefetch" href="/wiki/assets/js/25.abe3d93c.js"><link rel="prefetch" href="/wiki/assets/js/250.16b48a31.js"><link rel="prefetch" href="/wiki/assets/js/251.4c472462.js"><link rel="prefetch" href="/wiki/assets/js/252.c8612636.js"><link rel="prefetch" href="/wiki/assets/js/253.82d298d0.js"><link rel="prefetch" href="/wiki/assets/js/254.b503fca0.js"><link rel="prefetch" href="/wiki/assets/js/255.70a37a76.js"><link rel="prefetch" href="/wiki/assets/js/256.68d1d504.js"><link rel="prefetch" href="/wiki/assets/js/257.56fa0359.js"><link rel="prefetch" href="/wiki/assets/js/258.46069f28.js"><link rel="prefetch" href="/wiki/assets/js/259.fa93c605.js"><link rel="prefetch" href="/wiki/assets/js/26.aa0d7454.js"><link rel="prefetch" href="/wiki/assets/js/260.1b2f86ff.js"><link rel="prefetch" href="/wiki/assets/js/261.10ade752.js"><link rel="prefetch" href="/wiki/assets/js/262.1ca67c5e.js"><link rel="prefetch" href="/wiki/assets/js/263.66c7dcd4.js"><link rel="prefetch" href="/wiki/assets/js/264.0d81840f.js"><link rel="prefetch" href="/wiki/assets/js/265.3f75d83e.js"><link rel="prefetch" href="/wiki/assets/js/266.f516a2b6.js"><link rel="prefetch" href="/wiki/assets/js/267.056a9153.js"><link rel="prefetch" href="/wiki/assets/js/268.6484e8d8.js"><link rel="prefetch" href="/wiki/assets/js/269.b358666d.js"><link rel="prefetch" href="/wiki/assets/js/27.b2d7c311.js"><link rel="prefetch" href="/wiki/assets/js/270.cf290519.js"><link rel="prefetch" href="/wiki/assets/js/271.2ae8dfdc.js"><link rel="prefetch" href="/wiki/assets/js/272.aa43a36c.js"><link rel="prefetch" href="/wiki/assets/js/273.b8e1ed53.js"><link rel="prefetch" href="/wiki/assets/js/274.5043e5d0.js"><link rel="prefetch" href="/wiki/assets/js/275.bfcddf1c.js"><link rel="prefetch" href="/wiki/assets/js/28.eac43889.js"><link rel="prefetch" href="/wiki/assets/js/29.539cb6a9.js"><link rel="prefetch" href="/wiki/assets/js/3.af414e3b.js"><link rel="prefetch" href="/wiki/assets/js/30.1bb23fcb.js"><link rel="prefetch" href="/wiki/assets/js/31.e60979f0.js"><link rel="prefetch" href="/wiki/assets/js/32.e4a024e0.js"><link rel="prefetch" href="/wiki/assets/js/33.e72038f6.js"><link rel="prefetch" href="/wiki/assets/js/34.7988fe9a.js"><link rel="prefetch" href="/wiki/assets/js/35.a12ca251.js"><link rel="prefetch" href="/wiki/assets/js/36.48b9cfa8.js"><link rel="prefetch" href="/wiki/assets/js/37.5496a5a3.js"><link rel="prefetch" href="/wiki/assets/js/38.7bf9cc52.js"><link rel="prefetch" href="/wiki/assets/js/39.b51dd611.js"><link rel="prefetch" href="/wiki/assets/js/4.70e730be.js"><link rel="prefetch" href="/wiki/assets/js/40.741308ce.js"><link rel="prefetch" href="/wiki/assets/js/41.91cad51b.js"><link rel="prefetch" href="/wiki/assets/js/42.707fc5c4.js"><link rel="prefetch" href="/wiki/assets/js/43.e528ff31.js"><link rel="prefetch" href="/wiki/assets/js/44.7711c377.js"><link rel="prefetch" href="/wiki/assets/js/45.1cb2e100.js"><link rel="prefetch" href="/wiki/assets/js/46.6333a70b.js"><link rel="prefetch" href="/wiki/assets/js/47.cd977b5a.js"><link rel="prefetch" href="/wiki/assets/js/48.be5cab65.js"><link rel="prefetch" href="/wiki/assets/js/49.92b6c235.js"><link rel="prefetch" href="/wiki/assets/js/5.611833a9.js"><link rel="prefetch" href="/wiki/assets/js/50.2d32dd0b.js"><link rel="prefetch" href="/wiki/assets/js/51.786341dd.js"><link rel="prefetch" href="/wiki/assets/js/52.8f5ecc74.js"><link rel="prefetch" href="/wiki/assets/js/53.9325c773.js"><link rel="prefetch" href="/wiki/assets/js/54.11aed720.js"><link rel="prefetch" href="/wiki/assets/js/55.40d97af0.js"><link rel="prefetch" href="/wiki/assets/js/56.fe36e85d.js"><link rel="prefetch" href="/wiki/assets/js/57.64bc9f56.js"><link rel="prefetch" href="/wiki/assets/js/58.78291d1b.js"><link rel="prefetch" href="/wiki/assets/js/59.922fd65b.js"><link rel="prefetch" href="/wiki/assets/js/6.45f8b0b3.js"><link rel="prefetch" href="/wiki/assets/js/60.619b5ded.js"><link rel="prefetch" href="/wiki/assets/js/61.9465f34f.js"><link rel="prefetch" href="/wiki/assets/js/62.45d4dc4e.js"><link rel="prefetch" href="/wiki/assets/js/63.be0bbabe.js"><link rel="prefetch" href="/wiki/assets/js/64.774b51ed.js"><link rel="prefetch" href="/wiki/assets/js/65.36ba37f6.js"><link rel="prefetch" href="/wiki/assets/js/66.a1dde207.js"><link rel="prefetch" href="/wiki/assets/js/67.7fc893fd.js"><link rel="prefetch" href="/wiki/assets/js/68.f9c61239.js"><link rel="prefetch" href="/wiki/assets/js/69.b3e88be0.js"><link rel="prefetch" href="/wiki/assets/js/7.b48a85c8.js"><link rel="prefetch" href="/wiki/assets/js/70.7d982b63.js"><link rel="prefetch" href="/wiki/assets/js/71.89fd8c1b.js"><link rel="prefetch" href="/wiki/assets/js/72.9d98f190.js"><link rel="prefetch" href="/wiki/assets/js/73.a8329ea6.js"><link rel="prefetch" href="/wiki/assets/js/74.708f9670.js"><link rel="prefetch" href="/wiki/assets/js/75.5fd8b804.js"><link rel="prefetch" href="/wiki/assets/js/76.4ce5b1b9.js"><link rel="prefetch" href="/wiki/assets/js/77.64e49106.js"><link rel="prefetch" href="/wiki/assets/js/78.e95941ab.js"><link rel="prefetch" href="/wiki/assets/js/79.9045d626.js"><link rel="prefetch" href="/wiki/assets/js/8.ed910aa6.js"><link rel="prefetch" href="/wiki/assets/js/80.b03d562f.js"><link rel="prefetch" href="/wiki/assets/js/81.392d4d87.js"><link rel="prefetch" href="/wiki/assets/js/82.05f3d693.js"><link rel="prefetch" href="/wiki/assets/js/83.246c90a2.js"><link rel="prefetch" href="/wiki/assets/js/84.3dc580b2.js"><link rel="prefetch" href="/wiki/assets/js/85.bfe76d65.js"><link rel="prefetch" href="/wiki/assets/js/86.531e7299.js"><link rel="prefetch" href="/wiki/assets/js/87.37008760.js"><link rel="prefetch" href="/wiki/assets/js/88.1adf2f8b.js"><link rel="prefetch" href="/wiki/assets/js/89.9761907d.js"><link rel="prefetch" href="/wiki/assets/js/9.ddf634b9.js"><link rel="prefetch" href="/wiki/assets/js/90.4350147e.js"><link rel="prefetch" href="/wiki/assets/js/91.a77cbfd1.js"><link rel="prefetch" href="/wiki/assets/js/92.a8539e9e.js"><link rel="prefetch" href="/wiki/assets/js/93.09a11a02.js"><link rel="prefetch" href="/wiki/assets/js/94.b96d2cf1.js"><link rel="prefetch" href="/wiki/assets/js/95.19575c8e.js"><link rel="prefetch" href="/wiki/assets/js/96.3c511e96.js"><link rel="prefetch" href="/wiki/assets/js/97.da9e9182.js"><link rel="prefetch" href="/wiki/assets/js/98.93193ba8.js"><link rel="prefetch" href="/wiki/assets/js/99.70275314.js">
    <link rel="stylesheet" href="/wiki/assets/css/0.styles.28a8e502.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki/" class="home-link router-link-active"><!----> <span class="site-name">TIL wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/pravusid/TIL" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/pravusid/TIL" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>클래스, 객체, 인터페이스</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/Kotlin/kotlin-class-object-interface.html#클래스-계층-정의" class="sidebar-link">클래스 계층 정의</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#인터페이스" class="sidebar-link">인터페이스</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#인터페이스에-선언된-프로퍼티" class="sidebar-link">인터페이스에 선언된 프로퍼티</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#open-final-abstract-변경자" class="sidebar-link">open, final, abstract 변경자</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#접근-변경자" class="sidebar-link">접근 변경자</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#내부-클래스와-중첩된-클래스" class="sidebar-link">내부 클래스와 중첩된 클래스</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#봉인된-클래스-sealed" class="sidebar-link">봉인된 클래스 (sealed)</a></li></ul></li><li><a href="/wiki/Kotlin/kotlin-class-object-interface.html#클래스-선언" class="sidebar-link">클래스 선언</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#주-생성자와-초기화-블록" class="sidebar-link">주 생성자와 초기화 블록</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#부-생성자" class="sidebar-link">부 생성자</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#게터와-세터에서-뒷받침하는-필드에-접근" class="sidebar-link">게터와 세터에서 뒷받침하는 필드에 접근</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#동등성-연산" class="sidebar-link">동등성 연산</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#데이터-클래스" class="sidebar-link">데이터 클래스</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#클래스-위임-by-키워드-사용" class="sidebar-link">클래스 위임: by 키워드 사용</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-class-object-interface.html#object-키워드" class="sidebar-link">object 키워드</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="클래스-객체-인터페이스"><a href="#클래스-객체-인터페이스" class="header-anchor">#</a> 클래스, 객체, 인터페이스</h1> <p>코틀린의 클래스와 인터페이스는 자바와 약간 다르다.
인터페이스에 프로퍼티 선언이 들어갈 수 있으며, 자바와 달리 기본적으로 final이며 public이다.
또한 중첩 클래스는 기본적으로 내부클래스가 아니다. 즉 코틀린 중첩 클래스는 외부 클래스에 대한 참조가 없다.</p> <h2 id="클래스-계층-정의"><a href="#클래스-계층-정의" class="header-anchor">#</a> 클래스 계층 정의</h2> <h3 id="인터페이스"><a href="#인터페이스" class="header-anchor">#</a> 인터페이스</h3> <p>코틀린 인터페이스는 자바8 인터페이스와 비슷하다. 즉 내부에 추상 메소드뿐 아니라 구현이 있는 메소드를 정의할 수 있다.
다만 인터페이스에는 아무런 상태(필드)도 들어갈 수 없다.</p> <p>인터페이스 구현을 위해서 자바에서는 implements 키워드를 사용하지만,
코틀린에서는 클래스 이름 뒤에 콜론(<code>:</code>)을 붙이는 것으로 클래스 확장(extends)과 인터페이스 구현(implements)을 모두 처리한다.
자바와 마찬가지로 인터페이스는 제한 없이 구현할 수 있지만, 클래스는 하나만 확장할 수 있다.</p> <p>자바의 <code>@Override</code> 애노테이션과 비슷한 <code>override</code> 변경자는 상위 클래스나 상위 인터페이스에 있는 프로퍼티나 메소드를 오버라이드 한다는 표시다.
자바와 다르게 코틀린에서는 <code>override</code>변경자를 반드시 사용해야 한다.</p> <p>인터페이스 메소드도 디폴트 구현을 제공한다. 그런 경우 메소드 앞에 default를 붙여야 하는 자바8과 달리 아무런 키워드를 요구하지 않는다.</p> <p>동일한 이름의 메소드를 가진 두 인터페이스를 한 클래스에서 동시에 구현하는 경우 해당 클래스에서 override 하지 않는 한 컴파일 되지 않는다.</p> <h3 id="인터페이스에-선언된-프로퍼티"><a href="#인터페이스에-선언된-프로퍼티" class="header-anchor">#</a> 인터페이스에 선언된 프로퍼티</h3> <p>코틀린에서는 인터페이스에 추상 프로퍼티 선언을 넣을 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> User <span class="token punctuation">{</span>
  <span class="token keyword">val</span> nickname<span class="token operator">:</span> String
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>이는 User 인터페이스를 구현하는 클래스가 nickname의 값을 얻을 수 있는 방법을 제공해야 한다는 뜻이다.
해당 인터페이스를 구현해 보자</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">PrivateUser</span><span class="token punctuation">(</span><span class="token keyword">override</span> <span class="token keyword">val</span> nickname<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> User

<span class="token keyword">class</span> <span class="token function">SubscribingUser</span><span class="token punctuation">(</span><span class="token keyword">val</span> email<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> User <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">val</span> nickname<span class="token operator">:</span> String
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> email<span class="token punctuation">.</span><span class="token function">substringBefore</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token function">FacebookUser</span><span class="token punctuation">(</span><span class="token keyword">val</span> accountId<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> User <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">val</span> nickname <span class="token operator">=</span> <span class="token function">getFacebookName</span><span class="token punctuation">(</span>accountId<span class="token punctuation">)</span> <span class="token comment">// 다른곳에 정의되어 있는 함수</span>
<span class="token punctuation">}</span>

<span class="token comment">// &gt;&gt;&gt; println(PrivateUser(&quot;test@kotlinlang.org&quot;).nickname)</span>
<span class="token label symbol">test@</span>kotlinlang<span class="token punctuation">.</span>org
<span class="token comment">// &gt;&gt;&gt; println(SubscribingUser(&quot;test@kotlinlang.org&quot;).nickname)</span>
test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>SubscribingUser의 nickname은 매번 호출될 때마다 계산하는 커스텀 게터를 활용하고,
FacebookUser의 nickname은 객체 초기화 시 계산한 데이터를 뒷받침하는 필더에 저장했다가 불러오는 방식을 활용한다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> User <span class="token punctuation">{</span>
  <span class="token keyword">val</span> email<span class="token operator">:</span> String
  <span class="token keyword">val</span> nickname<span class="token operator">:</span> String
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> email<span class="token punctuation">.</span><span class="token function">substringBefore</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>위와 같은 경우 하위클래스는 추상 프로퍼티인 email은 반드시 오버라이드 해아하지만 nickname은 오버라이드 하지 않아도 된다.</p> <p>인터페이스에는 추상 프로퍼티 뿐만 아니라 게터와 세터가 있는 프로퍼티를 선언할 수 있다.
그러나 인터페이스는 상태를 저장할 수 없기 때문에 게터와 세터를 뒷받침 하는 필드를 참조할 수 없다.</p> <h3 id="open-final-abstract-변경자"><a href="#open-final-abstract-변경자" class="header-anchor">#</a> open, final, abstract 변경자</h3> <p>fragile base class는 어떤 클래스가 자신을 상속하는 방법에 대해 정확한 규칙(어떤 메소드를 어떻게 오버라이드 해야 하는지...)을 제공하지 않는다면,
그 클래스의 클라이언트는 기반 클래스를 작성한 사람의 의도와 다른 방식으로 메소드를 오버라이드 할 위험이 있다.
따라서 기반 클래스를 변경하는 경우 하위 클래스스의 동작이 예기치 않게 바뀔 수도 있다는 면에서 기반 클래스는 취약하다.</p> <p>이 문제를 해결하기 위해 '이펙티브 자바'에서는 상속을 위한 설계와 문서를 갖추거나, 그럴 수 없다면 상속을 금지하라는 조언을 한다.
코틀린도 마찬가지로 모든 클래스와 메소드는 기본적으로 <code>final</code>이다.</p> <p>어떤 클래스의 상속을 허용하려면 클래스 앞에 <code>open</code> 변경자를 붙여야 하며, 오버라이드를 허용하고 싶은 메소드나 프로퍼티의 앞에도 <code>open</code> 변경자를 붙여야 한다.</p> <p>기반 클래스나 인터페이스의 멤버를 오버라이드 하는 경우 그 메소드는 기본적으로 열려있다.
(열려있어야 현 클래스에서 오버라이드가 가능한 것이고, 열려있는 것을 오버라이드 했으므로 여전히 열려있다.)
오버라이드 하는 메소드를 하위 클래스에서 오버라이드 하지 못하게 하려면 <code>final</code>을 명시해야 한다.</p> <blockquote><p>클래스의 기본 상속 기능 상태를 final로 하면서 스마트 캐스트가 가능하다. 스마트 캐스트는 타입 검사 뒤에 변경될 수 없는 변수에만 적용가능하기 때문이다.</p></blockquote> <p>코틀린에서도 클래스를 abstract로 선언할 수 있다. abstract로 선언한 클래스는 인스턴스화 할 수 없다.
추상 멤버는 항상 열려 있으므로 앞에 <code>open</code>변경자를 명시할 필요가 없다.</p> <p>인터페이스의 멤버는 항상열려있으며 final, open, abstract를 사용하지 않는다.</p> <h3 id="접근-변경자"><a href="#접근-변경자" class="header-anchor">#</a> 접근 변경자</h3> <p>기본적으로 코틀린의 접근 변경자는 자바와 비슷하다. 하지만 자바와 다르게 아무런 변경자가 없는 경우 공개(<code>public</code>)상태이다.
자바의 기본 접근 변경자인 <code>package-private</code>은 코틀린에 없다. 코틀린의 패키지는 가시성 제어에 사용되지 않고 코드의 네임스페이스 관리에만 사용된다.</p> <p>패키지 전용 접근 변경자로 <code>internal</code>이 도입되었다. internal은 모듈 내부에서만 접근 가능하다. 모듈 단위의 접근으로 캡슐화를 지킬 수 있다.</p> <p>자바와의 또 다른 차이는 최상위 선언(클래스, 함수, 프로퍼티)에 대해 <code>private</code>을 적용한다는 점이다.
비공개 최상위 선언은 그 선언이 들어있는 파일 내부에서만 사용할 수 있다.</p> <p>자바에서 <code>protected</code> 접근 변경자는 같은 패키지안의 멤버에 접근할 수 있었지만, 코틀린에서는 오로지 해당 클래스와 그 클래스를 상속한 클래스 내에서만 보인다.
따라서 확장 함수내에서는 <code>private</code>이나 <code>protected</code> 멤버에 접근할 수 없다.</p> <h3 id="내부-클래스와-중첩된-클래스"><a href="#내부-클래스와-중첩된-클래스" class="header-anchor">#</a> 내부 클래스와 중첩된 클래스</h3> <p>코틀린의 중첩 클래스(nested class)는 명시적으로 요청하지 않는 한 바깥쪽 클래스 인스턴스에 대한 접근권한이 없다.
코틀린 충첩클래스에 아무런 변경자가 붙지 않으면 자바 static 중첩 클래스와 같다.
이를 내부 클래스로 변경해서 바깥쪽 클래스에 대한 참조를 포함하게 만들고 싶다면 inner 변경자를 붙여야 한다.</p> <table><thead><tr><th>클래스 B 안에 정의된 클래스 A</th> <th>자바</th> <th>코틀린</th></tr></thead> <tbody><tr><td>중첩 클래스(바깥쪽 클래스 참조 X)</td> <td>static class A</td> <td>class A</td></tr> <tr><td>내부 클래스(바깥쪽 클래스 참조 O)</td> <td>class A</td> <td>inner class A</td></tr></tbody></table> <p>코틀린에서는 바깥쪽 클래스의 인스턴스를 가리키는 참조를 표기하는 방법도 다르다.
내부클래스 Inner 에서 바깥쪽 클래스 Outer를 참조하려면 <code>this@Outer</code> 라고 써야 한다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> Outer <span class="token punctuation">{</span>
  <span class="token keyword">inner</span> <span class="token keyword">class</span> Inner <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">getOuterReference</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Outer <span class="token operator">=</span> <span class="token keyword">this</span><span class="token label symbol">@Outer</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="봉인된-클래스-sealed"><a href="#봉인된-클래스-sealed" class="header-anchor">#</a> 봉인된 클래스 (<code>sealed</code>)</h3> <p>상위 클래스에 <code>sealed</code> 변경자를 붙이면 그 상위 클래스를 상속한 하위클래스 정의를 제한할 수 있다.
sealed 클래스의 하위 클래스를 정의할 때는 반드시 상위 클래스 안에 중첩시켜야 한다.
sealed class는 기본적으로 <code>open</code>이므로 접근 변경자 <code>open</code>을 붙일 필요가 없다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">sealed</span> <span class="token keyword">class</span> Expr <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token function">Num</span><span class="token punctuation">(</span><span class="token keyword">val</span> value<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">Expr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">class</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token keyword">val</span> left<span class="token operator">:</span> Expr<span class="token punctuation">,</span> <span class="token keyword">val</span> right<span class="token operator">:</span> Expr<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">Expr</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> <span class="token function">eval</span><span class="token punctuation">(</span>e<span class="token operator">:</span> Expr<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span>
  <span class="token keyword">when</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">is</span> Expr<span class="token punctuation">.</span>Num <span class="token operator">-&gt;</span> e<span class="token punctuation">.</span>value
    <span class="token keyword">is</span> Expr<span class="token punctuation">.</span>Sum <span class="token operator">-&gt;</span> <span class="token function">eval</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">eval</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>when 식이 모든 하위클래스를 검사하므로 별도의 else 분기가 필요 없다
즉 Expr을 상속하는 경우의 수를 모두 파악한 상태로 컴파일하므로 else 분기가 필요 없는 것</p> <h2 id="클래스-선언"><a href="#클래스-선언" class="header-anchor">#</a> 클래스 선언</h2> <p>코틀린은 primary constructor와 secondary constructor를 구분한다.
또한 코틀린에서는 initializer block을 통해 초기화 로직을 추가할 수 있다.</p> <h3 id="주-생성자와-초기화-블록"><a href="#주-생성자와-초기화-블록" class="header-anchor">#</a> 주 생성자와 초기화 블록</h3> <p>클래스 이름뒤에 오는 괄호로 둘러싸인 코드를 주 생성자라고 한다.
주 생성자는 생성자 파라미터를 지정하고, 그 생성자 파라미터에 의해 초기화되는 프로퍼티를 정의한다.</p> <p>주 생성자를 명시적 선언으로 풀어서 살펴보자</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> User <span class="token keyword">constructor</span><span class="token punctuation">(</span>_nickname<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> nickname<span class="token operator">:</span> String
  <span class="token keyword">init</span> <span class="token punctuation">{</span>
    nickname <span class="token operator">=</span> _nickname
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>constructor</code> 키워드는 주 생성자나 부 생성자 정의를 시작할 때 사용한다.
주 생성자 앞에 별다른 애노테이션이나 가시성 변경자가 없다면 <code>constructor</code>를 생략해도 된다.</p> <p><code>init</code> 키워드는 초기화 블록을 시작한다.
초기화 블록에는 클래스의 인스턴스가 생성될 때 실행될 초기화 코드가 들어간다.
초기화 블록은 주 생성자와 함께 사용된다. 주 생성자는 제한적이어서 별도의 코드를 포함할 수 없으므로 초기화 블록이 필요하다.
필요하다면 클래스 안에 여러 초기화 블록을 선언할 수 있다.</p> <p>함수 파라미터와 마찬가지로 생성자 파라미터도 디폴트 값을 정의할 수 있다.
클래스 인스턴스를 만드려면 new 키워드 없이 생성자를 직접 호출하면 된다.
모든 생성자 파라미터에 디폴트 값을 지정하면 컴파일러가 자동으로 파라미터가 없는 생성자를 만들어준다.</p> <p>기반 클래스를 초기화 하려면 기반 클래스 이름 뒤에 괄호 내부로 생성자 인자를 넘겨면 된다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token keyword">val</span> nickname<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token function">TwitterUser</span><span class="token punctuation">(</span>nickname<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">User</span><span class="token punctuation">(</span>nickname<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>클래스를 정의할 때 별도로 생성자를 정의하지 않으면 컴파일러가 자동으로 인자가 없는 디폴트 생성자를 만들어 준다.
생성자 인자가 없는 클래스를 상속하는 하위 클래스는 반드시 Button 클래스의 기본 생성자를 호출해야 한다.
이 규칙으로 인해 기반 클래스의 이름 뒤에는 꼭 괄호가 들어간다.
반면 인터페이스는 생성자가 없기 때문에 어떤 클래스가 인터페이스를 구현하는 경우 인터페이스 이름뒤에는 괄호가 없다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> Button
<span class="token keyword">class</span> RadioButton<span class="token operator">:</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>어떤 클래스를 클래스 외부에서 인스턴스화하지 못하게 막고 싶다면 주 생성자에 private 변경자를 붙일 수 있다.</p> <p><code>class Secretive private constructor() { ... }</code></p> <p>비공개 생성자는 companion object와 함께 사용하여 활용할 수 있다.</p> <h3 id="부-생성자"><a href="#부-생성자" class="header-anchor">#</a> 부 생성자</h3> <p>코틀린에서는 디폴트 파라미터와 이름을 붙인 인자를 사용해서 생성자를 줄일 수 있다.
그래도 생성자가 여럿 필요한 경우가 있을 것이다. 일반적으로 프레임워크 클래스 확장을 위해 다양한 생성자를 지원해야 하는 경우이다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">open</span> <span class="token keyword">class</span> View <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">,</span> attr<span class="token operator">:</span> AttributeSet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>위의 클래스는 주 생성자를 선언하지 않고(클래스 헤더 클래스 이름 뒤 괄호가 없음) 부 생성자만 2개 선언하였다.</p> <p>마찬가지로 클래스를 확장하면서 부 생성자를 정의 할 수 있다. 이 때 <code>super()</code> 키워드를 통해 상위클래스 생성자를 호출한다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> MyButton<span class="token operator">:</span> View <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">,</span> attr<span class="token operator">:</span> AttributeSet<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> attr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>자바와 마찬가지로 <code>this()</code>를 통해 클래스 자신의 다른 생성자를 호출 할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> MyButton<span class="token operator">:</span> View <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> MY_STYLE<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 아래의 생성자에게 위임한다</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span>ctx<span class="token operator">:</span> Context<span class="token punctuation">,</span> attr<span class="token operator">:</span> AttributeSet<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> attr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>만약 클래스에 주 생성자가 없다면 모든 부 생성자는 반드시 상위 클래스를 초기화 하거나 다른 생성자에게 생성을 위임해야 한다.</p> <h3 id="게터와-세터에서-뒷받침하는-필드에-접근"><a href="#게터와-세터에서-뒷받침하는-필드에-접근" class="header-anchor">#</a> 게터와 세터에서 뒷받침하는 필드에 접근</h3> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> address<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">&quot;unspecified&quot;</span>
    <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      field <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>접근자의 본문에서는 field라는 특별한 식별자를 통해 뒷받침하는 필드에 접근할 수 있다.</p> <p>접근자의 가시성을 바꿀 필요가 있을때 어떻게 하는지 살펴보자</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> LengthCounter <span class="token punctuation">{</span>
  <span class="token keyword">var</span> counter<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">private</span> <span class="token keyword">set</span>
  <span class="token keyword">fun</span> <span class="token function">addWord</span><span class="token punctuation">(</span>word<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    counter <span class="token operator">+=</span> word<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>접근자의 가시성은 기본적으로 프로퍼티의 가시성과 같다.
하지만 원한다면 get이나 set앞에 접근 변경자를 추가해서 접근을 제어할 수 있다.</p> <h3 id="동등성-연산"><a href="#동등성-연산" class="header-anchor">#</a> 동등성 연산</h3> <p>자바에서는 <code>==</code>를 원시타입과 참조타입 비교시 사용한다.
원시타입에서는 equality, 참조타입의 경우 reference comparision으로 작동한다.
따라서 두 객체의 동등성 확인을 위해서는 <code>equals</code>를 호출해야 한다.</p> <p>코틀린에서는 <code>==</code>연산자가 두 객체를 비교하는 방법이다. <code>==</code>는 내부적으로 <code>equals</code>를 호출해서 객체를 비교한다.
따라서 클래스가 <code>equals</code>를 호버라이드 하면 <code>==</code>를 통해 안전하게 클래스의 인스턴스를 비교할 수 있다.</p> <p>참조 비교를 위해서는 <code>===</code> 연산자를 사용할 수 있다.</p> <h3 id="데이터-클래스"><a href="#데이터-클래스" class="header-anchor">#</a> 데이터 클래스</h3> <p>코틀린 컴파일러는 기계적으로 생성하는 메소드를 보이지 않는곳에서 처리해준다.</p> <p>코틀린 컴파일러는 모든클래스가 정의해야 하는 메소드 <code>toString</code>, <code>equals</code>, <code>hashCode</code>등을 자동으로 생성해준다.</p> <p><code>data</code>라는 변경자를 클래스 앞에 붙이면 필요한 메소드를 컴파일러가 자동으로 만들어준다. 해당 클래스를 데이터 클래스라고 부른다.
데이터 클래스의 프로퍼티가 반드시 <code>val</code>일 필요는 없지만 불변객체를 생성하기를 권장한다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Client</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> postalCode<span class="token operator">:</span> Int<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Client 데이터 클래스는 아래의 내용을 포함한다.</p> <ul><li><code>equals()</code></li> <li><code>hashCode()</code></li> <li><code>toString()</code></li> <li><code>copy()</code>: 불변 객체의 데이터 변경을 위해서 인스턴스를 복사본을 만들어서 관리한다</li></ul> <h3 id="클래스-위임-by-키워드-사용"><a href="#클래스-위임-by-키워드-사용" class="header-anchor">#</a> 클래스 위임: by 키워드 사용</h3> <p>대규모 객체지향 시스템을 설계할 때 시스템을 취약하게 만드는 문제는 보통 구현 상속(implementation inheritance)에 의해 발생한다.
하위 클래스가 상위 클래스의 메소드 중 일부를 오버라이드 하면 하위 클래스는 상위 클래스의 세부 구현사항에 의존하게 된다.
시스템이 변함에 따라 상위 클래스가 변화하면 하위클래스에서 상위클래스에 대해 갖고있던 가정이 깨져 클래스가 정상적으로 작동하지 못할 수 잇다.</p> <p>따라서 코틀인에서는 기본적으로 클래스를 <code>final</code>로 취급하여 클래스 변경 시 <code>open</code> 변경자를 보고 하위 클래스를 깨지 않기 위해 조심할 수 있다.
하지만 종종 상속을 허용하지 않는 클래스에 새로운 동작을 추가해야 할 때가 있다.</p> <p>이럴 때 사용하는 방법이 데코레이터(Decorator) 패턴이다.
상속을 허용하지 않는 기존 클래스 대신 사용할 수 있는 새로운 클래스(데코레이터)를 만들되
기존 클래스와 같은 인터페이스를 데코레이터가 제공하게 하고, 기존 클래스를 데코레이터 내부에 필드로 유지하는 것이다.</p> <p>데코레이터 패턴의 문제점은 준비 코드가 상당히 많이 필요하다는 점이다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> DelegatingCollection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">:</span> Collection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> innerList <span class="token operator">=</span> arrayListOf<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">override</span> <span class="token keyword">val</span> size<span class="token operator">:</span> Int <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> innerList<span class="token punctuation">.</span>size
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> innerList<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">contains</span><span class="token punctuation">(</span>element<span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> innerList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Iterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">=</span> innerList<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">containsAll</span><span class="token punctuation">(</span>elements<span class="token operator">:</span> Collection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> innerList<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>코틀린은 이런 위임을 언어가 제공하는 일급 시민 기능으로 지원한다.
인터페이스를 구현할 때 <code>by</code> 키워드를 통해 그 인터페이스에 대한 구현을 다른 객체에 위임 중이라는 사실을 명시할 수 있다.</p> <p>위의 예제를 위임을 사용해 재작성하면 다음과 같다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> DelegatingCollection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>
  innerList<span class="token operator">:</span> Collection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">=</span> ArrayList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Collection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token keyword">by</span> innerList <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>코틀린은 <code>by</code> 키워드로 클래스안에 있던 전달 메소드를 자동 생성한다.
메소드 중 일부의 동작을 변경하고 싶은 경우 메소드를 오버라이드하면 컴파일러가 생성한 메소드 대신 오버라이드한 메소드가 쓰인다.</p> <p>클래스 위임을 사용한 예제를 살펴보자</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> CountingSet<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> innerSet<span class="token operator">:</span> MutableCollection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">=</span> HashSet<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> MutableCollection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token keyword">by</span> innerSet <span class="token punctuation">{</span> <span class="token comment">// MutableCollection의 구현을 innerSet에게 위임함</span>
  <span class="token keyword">var</span> objectAdded <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">add</span><span class="token punctuation">(</span>element<span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    objectsAdded<span class="token operator">++</span>
    <span class="token keyword">return</span> innerSet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">addAll</span><span class="token punctuation">(</span>c<span class="token operator">:</span> Collection<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    objectAdded <span class="token operator">+=</span> c<span class="token punctuation">.</span>size
    <span class="token keyword">return</span> innerSet<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>add</code>와 <code>addAll</code>을 오버라이드 해서 카운터를 증가시키고, MutableCollection 인터페이스의 나머지 메소드는 내부 컨테이너(innerSet)에게 위임한다.</p> <h3 id="object-키워드"><a href="#object-키워드" class="header-anchor">#</a> object 키워드</h3> <p>코틀린에서는 <code>object</code> 키워드는 클래스를 정의하면서 동시에 인스턴스를 생성한다.</p> <h4 id="쉽게-싱글톤을-생성하자"><a href="#쉽게-싱글톤을-생성하자" class="header-anchor">#</a> 쉽게 싱글톤을 생성하자</h4> <p>object declaration은 singleton을 정의하는 방법 중 하나이다.
자바에서는 보통 클래스의 생성자를 <code>private</code>으로 제한하고 정적인 필드에 그 클래스의 유일한 객체를 저장하는 방식을 사용한다.</p> <p>코틀린은 객체 선언 기능을 통해 singleton을 언어에서 기본 지원한다.
객체 선언은 클래스 선언과 그 클래스에 속한 단일 인스턴스의 선언을 합친 선언이다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">object</span> Payroll <span class="token punctuation">{</span>
  <span class="token keyword">val</span> allEmployees <span class="token operator">=</span> arrayListOf<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">fun</span> <span class="token function">calculateSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>person <span class="token keyword">in</span> allEmployees<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>객체선언시 <code>object</code> 키워드를 사용하면 된다.
클래스와 마찬가지로 객체 선언 안에도 프로퍼티, 메소드, 초기화 블록등이 들어갈 수 있다.
하지만 생성자는 객체선언에 쓸 수 없다. 싱글턴 객체는 객체 선언문이 있는 위치에서 생성자 호출 없이 즉시 만들어진다.</p> <p>객체선언도 클래스나 인스턴스를 상속할 수 있다. 프레임워크를 사용하기 위해 특정 인터페이스를 구현해야 하는데,
구현 내부에 다른 상태가 필요하지 않은 경우에 이런 기능을 사용할 수 있다.</p> <p><code>java.util.Comparator</code> 인터페이스는 두 객체를 인자로 받아 어느객체가 더 큰지 알려주는 정수를 반환한다.
<code>Comparator</code> 안에는 데이터를 저장할 필요가 없다. 따라서 <code>Comparator</code> 인스턴스를 만드는 방법으로 객체선언이 가장 좋은 방법이다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">object</span> CaseInsensitiveFileComparator<span class="token operator">:</span> Comparator<span class="token operator">&lt;</span>File<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">compare</span><span class="token punctuation">(</span>file1<span class="token operator">:</span> File<span class="token punctuation">,</span> file2<span class="token operator">:</span> File<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
    <span class="token keyword">return</span> file1<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>file2<span class="token punctuation">.</span>path<span class="token punctuation">,</span> ignoreCase <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>CaseInsensitiveFileComparator<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;/User&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>의존관계가 별로 많지 않은 소규모 소프트웨어에서는 싱글턴이나 객체 선언이 유용하지만 시스템을 구현하는 다양한 구성요소와 상호작용하는 대규모 컴포넌트에는 싱글턴이 적합하지 않다.
객체 생성을 제어할 방법이 없고 생성자 파라미터를 지정할 수 없기 때문이다.
생성자를 제어할 수 없고 생성자 파라미터를 지정할 수 없으므로 단위 테스트를 하거나 소프트웨어 시스템 설정이 달라질 때 객체를 대체하거나 객체의 의존관계를 바꿀 수 없다.</p></blockquote> <p>클래스 안에서 객체를 선언할 수도 있다. 그런 객체도 인스턴스는 하나 뿐이다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">object</span> NameComparator<span class="token operator">:</span> Comparator<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">compare</span><span class="token punctuation">(</span>p1<span class="token operator">:</span> Person<span class="token punctuation">,</span> p2 Person<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> p1<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">val</span> persons <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>persons<span class="token punctuation">.</span><span class="token function">sortedWith</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>NameComparator<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>Alice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>Bob<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>코틀린 객체 선언은 유일한 인스턴스에 대한 정적인 필드가 있는 자바 클래스로 컴파일 된다. 이때 인스턴스 필드의 이름은 항상 INSTANCE이다.</p></blockquote> <h4 id="companion-object"><a href="#companion-object" class="header-anchor">#</a> Companion Object</h4> <p>코틀린 클래스안에는 정적인 멤버가 없다. 즉 코틀린은 자바 <code>static</code> 키워드를 지원하지 않는다.
대신 패키지 수준의 최상위 함수와 객체 선언을 지원하고, 대부분의 경우 최상위 함수를 더 권장한다.</p> <p>하지만 클래스 내부 정보에 접근해야 하는 함수가 필요할 때는 클래스에 중첩된 객체선언의 멤버함수로 정의해야한다.
이럴 때 companion object는 인스턴스 메소드는 아니지만 어떤 클래스와 관련 있는 메소드와 팩토리 메소드를 담을 때 쓰인다.
동반 객체 메소드에 접근할 때는 동반 객체가 포함된 클래스의 이름을 사용할 수 있다.</p> <p>결과적으로 동반 객체의 멤버를 사용하는 구문은 자바의 정적 메소드 호출이나 정적 필드 사용 구문과 같아진다</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> A <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Companion object called&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> A<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Companion <span class="token keyword">object</span> called
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>companion object에서 private 생성자를 호출할 수 있다. 이를 활용한 팩토리 패턴등을 구현할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> User <span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">val</span> nickname<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">newSubscribingUser</span><span class="token punctuation">(</span>email<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">User</span><span class="token punctuation">(</span>email<span class="token punctuation">.</span><span class="token function">substringBefore</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">newFacebookUser</span><span class="token punctuation">(</span>accountId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token function">getFacebookName</span><span class="token punctuation">(</span>accountId<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">val</span> subscribingUser <span class="token operator">=</span> User<span class="token punctuation">.</span><span class="token function">newSubscribingUser</span><span class="token punctuation">(</span><span class="token string">&quot;bob@gmail.com&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">val</span> facebookUser <span class="token operator">=</span> User<span class="token punctuation">.</span><span class="token function">newFacebookUser</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>subscribingUser<span class="token punctuation">.</span>nickname<span class="token punctuation">)</span>
bob
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>동반 객체에 이름을 붙이거나, 인터페이스를 상속 하거나, 확장함수와 프로퍼티를 정의하는 등, 일반객체처럼 사용할 수도 있다.</p> <h5 id="동반객체에-이름-붙이기"><a href="#동반객체에-이름-붙이기" class="header-anchor">#</a> 동반객체에 이름 붙이기</h5> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> Loader <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">fromJSON</span><span class="token punctuation">(</span>jsonText<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> Pserson <span class="token operator">=</span> <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 두 가지 방법 모두 같은 결과이다.</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> person <span class="token operator">=</span> Person<span class="token punctuation">.</span>Loader<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token string">&quot;{name: 'Dmitry'}&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> person <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span><span class="token string">&quot;{name: 'Dmitry'}&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h5 id="동반-객체에서-인터페이스-구현"><a href="#동반-객체에서-인터페이스-구현" class="header-anchor">#</a> 동반 객체에서 인터페이스 구현</h5> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">interface</span> JSONFactory<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">fun</span> <span class="token function">fromJSON</span><span class="token punctuation">(</span>jsonText<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> T
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span><span class="token operator">:</span> JSONFactory<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    overrider <span class="token keyword">fun</span> <span class="token function">fromJSON</span><span class="token punctuation">(</span>jsonText<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>동반객체가 구현한 인터페이스 인스턴스를 넘길때 동반객체 외부 클래스형을 사용할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> loadFromJSON<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>factory<span class="token operator">:</span> JSONFactory<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
  <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token function">loadFromJSON</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span> <span class="token comment">// JSONFactory 타입에 Person 타입을 넘겼다</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>동반객체에 이름을 붙이지 않았다면 자바에서 Companion이라는 이름으로 참조에 접근할 수 있다</p></blockquote> <h5 id="동반-객체-확장"><a href="#동반-객체-확장" class="header-anchor">#</a> 동반 객체 확장</h5> <p>앞에서 본 Person의 관심사를 명확히 분리하고 싶다고 하자. Person 클래스는 핵심 비즈니스 로직의 일부다.
비즈니스 모듈이 특정 데이터 타입에 의존하기 원하지 않는다. 따라서 역직렬화 함수를 클라이언트/서버 통신을 담당하는 모듈에 포함시키고 싶다.
확장함수를 사용하면 이런 구조를 잡을 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> firstName<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> lastName<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span> <span class="token comment">// 비어있는 동반객체 선언</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> Person<span class="token punctuation">.</span>Companion<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span>json<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> Person <span class="token punctuation">{</span> <span class="token comment">// 확장 함수 선언</span>
  <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> p <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token function">fromJSON</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>이렇게 하면 마치 동반 객체 안에서 fromJSON 함수를 정의한 것 처럼 호출 가능하다.</p> <h4 id="객체-식-익명-내부-클래스"><a href="#객체-식-익명-내부-클래스" class="header-anchor">#</a> 객체 식: 익명 내부 클래스</h4> <p>객체 식은 자바의 익명 내부 클래스(annoymous inner class) 대신 쓰인다.
자바에서 흔히 익명 내부 클래스로 구현하는 이벤트 리스너를 코틀린에서 구현해 보자.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code>window<span class="token punctuation">.</span><span class="token function">addMouseListener</span><span class="token punctuation">(</span>
  <span class="token keyword">object</span><span class="token operator">:</span> <span class="token function">MouseAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 이름이 없고 MouseAdapter를 확장하는 객체선언</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span>e<span class="token operator">:</span> MouseEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>사용한 구문은 객체 선언과 같지만, 객체 이름이 빠졌다는 점만 다르다.</p> <p>만약 이름을 붙여야 한다면 변수에 익명 객체를 대입하면 된다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> listener <span class="token operator">=</span> <span class="token keyword">object</span><span class="token operator">:</span> <span class="token function">MouseAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span>e<span class="token operator">:</span> MouseEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
  <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>한 인터페이스만 구현하거나 한 클래스만 확장할 수 있는 자바의 익명 내부 클래스와 달리,
코틀린에서는 여러 인터페이스를 구현하거나 클래스를 확장하면서 인터페이스를 구현할 수 있다.</p> <p>자바의 익명 클래스와 같이 객체 식 안의 코드는 그 식이 포함된 함수의 변수에 접근할 수 있다.
하지만 자바와 달리 final이 아닌 지역변수도 객체 식 안에서 사용할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">countClicks</span><span class="token punctuation">(</span>window<span class="token operator">:</span> Window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> clickCount <span class="token operator">=</span> <span class="token number">0</span>

  window<span class="token punctuation">.</span><span class="token function">addMouseListener</span><span class="token punctuation">(</span><span class="token keyword">object</span><span class="token operator">:</span> <span class="token function">MouseAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span>e<span class="token operator">:</span> MouseEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      clickCount<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/wiki/assets/js/app.dab5d097.js" defer></script><script src="/wiki/assets/js/2.05cc4ee4.js" defer></script><script src="/wiki/assets/js/114.cc981375.js" defer></script>
  </body>
</html>
