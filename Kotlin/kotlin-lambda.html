<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>람다 | TIL wiki</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/wiki/assets/css/0.styles.28a8e502.css" as="style"><link rel="preload" href="/wiki/assets/js/app.c7ac42e3.js" as="script"><link rel="preload" href="/wiki/assets/js/2.9f07087a.js" as="script"><link rel="preload" href="/wiki/assets/js/119.a44278b8.js" as="script"><link rel="prefetch" href="/wiki/assets/js/10.cc99165d.js"><link rel="prefetch" href="/wiki/assets/js/100.ebca4066.js"><link rel="prefetch" href="/wiki/assets/js/101.a2d1ffc5.js"><link rel="prefetch" href="/wiki/assets/js/102.575ed5f8.js"><link rel="prefetch" href="/wiki/assets/js/103.8fe1fc78.js"><link rel="prefetch" href="/wiki/assets/js/104.d6b0c2a6.js"><link rel="prefetch" href="/wiki/assets/js/105.8e8d2398.js"><link rel="prefetch" href="/wiki/assets/js/106.84a85a7f.js"><link rel="prefetch" href="/wiki/assets/js/107.a63899cb.js"><link rel="prefetch" href="/wiki/assets/js/108.f3902fdc.js"><link rel="prefetch" href="/wiki/assets/js/109.cc168358.js"><link rel="prefetch" href="/wiki/assets/js/11.68b04b78.js"><link rel="prefetch" href="/wiki/assets/js/110.378ac32a.js"><link rel="prefetch" href="/wiki/assets/js/111.6467f5cc.js"><link rel="prefetch" href="/wiki/assets/js/112.f3cc15fc.js"><link rel="prefetch" href="/wiki/assets/js/113.dd84a99d.js"><link rel="prefetch" href="/wiki/assets/js/114.9920b4b6.js"><link rel="prefetch" href="/wiki/assets/js/115.6960a751.js"><link rel="prefetch" href="/wiki/assets/js/116.38d6e29f.js"><link rel="prefetch" href="/wiki/assets/js/117.e9d3015b.js"><link rel="prefetch" href="/wiki/assets/js/118.ccd3d586.js"><link rel="prefetch" href="/wiki/assets/js/12.d75b755f.js"><link rel="prefetch" href="/wiki/assets/js/120.d57fe9f4.js"><link rel="prefetch" href="/wiki/assets/js/121.aa283a53.js"><link rel="prefetch" href="/wiki/assets/js/122.99414c5f.js"><link rel="prefetch" href="/wiki/assets/js/123.be62c15f.js"><link rel="prefetch" href="/wiki/assets/js/124.39f38594.js"><link rel="prefetch" href="/wiki/assets/js/125.8ea2e819.js"><link rel="prefetch" href="/wiki/assets/js/126.5ba29a8c.js"><link rel="prefetch" href="/wiki/assets/js/127.f401bab2.js"><link rel="prefetch" href="/wiki/assets/js/128.218d9c51.js"><link rel="prefetch" href="/wiki/assets/js/129.9d0fba82.js"><link rel="prefetch" href="/wiki/assets/js/13.41abd4e2.js"><link rel="prefetch" href="/wiki/assets/js/130.a7325849.js"><link rel="prefetch" href="/wiki/assets/js/131.14f7b6d1.js"><link rel="prefetch" href="/wiki/assets/js/132.b87b6af4.js"><link rel="prefetch" href="/wiki/assets/js/133.16952834.js"><link rel="prefetch" href="/wiki/assets/js/134.fa067407.js"><link rel="prefetch" href="/wiki/assets/js/135.5a678847.js"><link rel="prefetch" href="/wiki/assets/js/136.aa4040cf.js"><link rel="prefetch" href="/wiki/assets/js/137.ddbcc2ce.js"><link rel="prefetch" href="/wiki/assets/js/138.d54f1b38.js"><link rel="prefetch" href="/wiki/assets/js/139.08753863.js"><link rel="prefetch" href="/wiki/assets/js/14.f9c5484f.js"><link rel="prefetch" href="/wiki/assets/js/140.098ab3f7.js"><link rel="prefetch" href="/wiki/assets/js/141.e8d030d2.js"><link rel="prefetch" href="/wiki/assets/js/142.853949cb.js"><link rel="prefetch" href="/wiki/assets/js/143.6d710edc.js"><link rel="prefetch" href="/wiki/assets/js/144.434fabb8.js"><link rel="prefetch" href="/wiki/assets/js/145.b5f2d346.js"><link rel="prefetch" href="/wiki/assets/js/146.dd0e5fd4.js"><link rel="prefetch" href="/wiki/assets/js/147.7a68078d.js"><link rel="prefetch" href="/wiki/assets/js/148.2d8c8874.js"><link rel="prefetch" href="/wiki/assets/js/149.1a15c386.js"><link rel="prefetch" href="/wiki/assets/js/15.551beea1.js"><link rel="prefetch" href="/wiki/assets/js/150.d324fe1a.js"><link rel="prefetch" href="/wiki/assets/js/151.5b90c274.js"><link rel="prefetch" href="/wiki/assets/js/152.1525e256.js"><link rel="prefetch" href="/wiki/assets/js/153.ecedc3fb.js"><link rel="prefetch" href="/wiki/assets/js/154.43044405.js"><link rel="prefetch" href="/wiki/assets/js/155.6d963205.js"><link rel="prefetch" href="/wiki/assets/js/156.d11ba08b.js"><link rel="prefetch" href="/wiki/assets/js/157.89f7cbae.js"><link rel="prefetch" href="/wiki/assets/js/158.5d553ca3.js"><link rel="prefetch" href="/wiki/assets/js/159.28597f25.js"><link rel="prefetch" href="/wiki/assets/js/16.c2a7ae15.js"><link rel="prefetch" href="/wiki/assets/js/160.60712865.js"><link rel="prefetch" href="/wiki/assets/js/161.9eccb2fc.js"><link rel="prefetch" href="/wiki/assets/js/162.47679dbd.js"><link rel="prefetch" href="/wiki/assets/js/163.5dbb27c7.js"><link rel="prefetch" href="/wiki/assets/js/164.7fcb2831.js"><link rel="prefetch" href="/wiki/assets/js/165.d17a2cc1.js"><link rel="prefetch" href="/wiki/assets/js/166.46c09a5b.js"><link rel="prefetch" href="/wiki/assets/js/167.8497a7e9.js"><link rel="prefetch" href="/wiki/assets/js/168.c419b13d.js"><link rel="prefetch" href="/wiki/assets/js/169.59404042.js"><link rel="prefetch" href="/wiki/assets/js/17.f3a53dbe.js"><link rel="prefetch" href="/wiki/assets/js/170.f286021d.js"><link rel="prefetch" href="/wiki/assets/js/171.e1f0b170.js"><link rel="prefetch" href="/wiki/assets/js/172.8e5b1d35.js"><link rel="prefetch" href="/wiki/assets/js/173.09ca698f.js"><link rel="prefetch" href="/wiki/assets/js/174.55b8752c.js"><link rel="prefetch" href="/wiki/assets/js/175.0b17a8a2.js"><link rel="prefetch" href="/wiki/assets/js/176.c15110df.js"><link rel="prefetch" href="/wiki/assets/js/177.22487cbb.js"><link rel="prefetch" href="/wiki/assets/js/178.c6e79d63.js"><link rel="prefetch" href="/wiki/assets/js/179.f59bfc58.js"><link rel="prefetch" href="/wiki/assets/js/18.0f152aa8.js"><link rel="prefetch" href="/wiki/assets/js/180.b532c244.js"><link rel="prefetch" href="/wiki/assets/js/181.7b89c096.js"><link rel="prefetch" href="/wiki/assets/js/182.df14dee5.js"><link rel="prefetch" href="/wiki/assets/js/183.9c5e7404.js"><link rel="prefetch" href="/wiki/assets/js/184.12cbd7ac.js"><link rel="prefetch" href="/wiki/assets/js/185.4bfc7113.js"><link rel="prefetch" href="/wiki/assets/js/186.b46c575e.js"><link rel="prefetch" href="/wiki/assets/js/187.55dfde19.js"><link rel="prefetch" href="/wiki/assets/js/188.67bbeac7.js"><link rel="prefetch" href="/wiki/assets/js/189.a692631e.js"><link rel="prefetch" href="/wiki/assets/js/19.3a1bb0e6.js"><link rel="prefetch" href="/wiki/assets/js/190.00f2ab87.js"><link rel="prefetch" href="/wiki/assets/js/191.97512d89.js"><link rel="prefetch" href="/wiki/assets/js/192.5b1e49f4.js"><link rel="prefetch" href="/wiki/assets/js/193.09d3730e.js"><link rel="prefetch" href="/wiki/assets/js/194.eb60e344.js"><link rel="prefetch" href="/wiki/assets/js/195.6f774478.js"><link rel="prefetch" href="/wiki/assets/js/196.c707cc57.js"><link rel="prefetch" href="/wiki/assets/js/197.1f6df6ca.js"><link rel="prefetch" href="/wiki/assets/js/198.014d9ec8.js"><link rel="prefetch" href="/wiki/assets/js/199.7ff7d204.js"><link rel="prefetch" href="/wiki/assets/js/20.2408e50d.js"><link rel="prefetch" href="/wiki/assets/js/200.b4fabc2b.js"><link rel="prefetch" href="/wiki/assets/js/201.cbe338dd.js"><link rel="prefetch" href="/wiki/assets/js/202.9a9e215f.js"><link rel="prefetch" href="/wiki/assets/js/203.784f6c6f.js"><link rel="prefetch" href="/wiki/assets/js/204.9af23549.js"><link rel="prefetch" href="/wiki/assets/js/205.c4de47c7.js"><link rel="prefetch" href="/wiki/assets/js/206.d48e9489.js"><link rel="prefetch" href="/wiki/assets/js/207.ff15cf57.js"><link rel="prefetch" href="/wiki/assets/js/208.aa0ec771.js"><link rel="prefetch" href="/wiki/assets/js/209.2c30a44a.js"><link rel="prefetch" href="/wiki/assets/js/21.d3d32552.js"><link rel="prefetch" href="/wiki/assets/js/210.2f342da9.js"><link rel="prefetch" href="/wiki/assets/js/211.d15bb3d9.js"><link rel="prefetch" href="/wiki/assets/js/212.1dc3559f.js"><link rel="prefetch" href="/wiki/assets/js/213.22650294.js"><link rel="prefetch" href="/wiki/assets/js/214.97085d01.js"><link rel="prefetch" href="/wiki/assets/js/215.627a1627.js"><link rel="prefetch" href="/wiki/assets/js/216.d4b34127.js"><link rel="prefetch" href="/wiki/assets/js/217.e2b67351.js"><link rel="prefetch" href="/wiki/assets/js/218.5bb252da.js"><link rel="prefetch" href="/wiki/assets/js/219.2be14fe6.js"><link rel="prefetch" href="/wiki/assets/js/22.8f78e9ba.js"><link rel="prefetch" href="/wiki/assets/js/220.342ce71c.js"><link rel="prefetch" href="/wiki/assets/js/221.8d254292.js"><link rel="prefetch" href="/wiki/assets/js/222.3feba87d.js"><link rel="prefetch" href="/wiki/assets/js/223.f28b04cc.js"><link rel="prefetch" href="/wiki/assets/js/224.26e4e3de.js"><link rel="prefetch" href="/wiki/assets/js/225.a9c9dcb0.js"><link rel="prefetch" href="/wiki/assets/js/226.304d554d.js"><link rel="prefetch" href="/wiki/assets/js/227.a6dbf216.js"><link rel="prefetch" href="/wiki/assets/js/228.a184a8c6.js"><link rel="prefetch" href="/wiki/assets/js/229.ee056912.js"><link rel="prefetch" href="/wiki/assets/js/23.9bd108ad.js"><link rel="prefetch" href="/wiki/assets/js/230.f69cf9a7.js"><link rel="prefetch" href="/wiki/assets/js/231.9fafa30c.js"><link rel="prefetch" href="/wiki/assets/js/232.f5c142b6.js"><link rel="prefetch" href="/wiki/assets/js/233.01f4407b.js"><link rel="prefetch" href="/wiki/assets/js/234.9f541923.js"><link rel="prefetch" href="/wiki/assets/js/235.073cb545.js"><link rel="prefetch" href="/wiki/assets/js/236.a12ed44b.js"><link rel="prefetch" href="/wiki/assets/js/237.37d8fe58.js"><link rel="prefetch" href="/wiki/assets/js/238.7aca4b69.js"><link rel="prefetch" href="/wiki/assets/js/239.4fe9782a.js"><link rel="prefetch" href="/wiki/assets/js/24.93cd152d.js"><link rel="prefetch" href="/wiki/assets/js/240.86c5405d.js"><link rel="prefetch" href="/wiki/assets/js/241.789c4e59.js"><link rel="prefetch" href="/wiki/assets/js/242.07e8dbc6.js"><link rel="prefetch" href="/wiki/assets/js/243.eb9c0a50.js"><link rel="prefetch" href="/wiki/assets/js/244.6e050624.js"><link rel="prefetch" href="/wiki/assets/js/245.4d943348.js"><link rel="prefetch" href="/wiki/assets/js/246.591cc038.js"><link rel="prefetch" href="/wiki/assets/js/247.944cbb75.js"><link rel="prefetch" href="/wiki/assets/js/248.0c3593e3.js"><link rel="prefetch" href="/wiki/assets/js/249.0c9ade63.js"><link rel="prefetch" href="/wiki/assets/js/25.eb8246d7.js"><link rel="prefetch" href="/wiki/assets/js/250.b0f050fa.js"><link rel="prefetch" href="/wiki/assets/js/251.99bfdaf0.js"><link rel="prefetch" href="/wiki/assets/js/252.e9601576.js"><link rel="prefetch" href="/wiki/assets/js/253.417175dc.js"><link rel="prefetch" href="/wiki/assets/js/254.20253aa8.js"><link rel="prefetch" href="/wiki/assets/js/255.295b3cdd.js"><link rel="prefetch" href="/wiki/assets/js/256.b10913d2.js"><link rel="prefetch" href="/wiki/assets/js/257.95c7b890.js"><link rel="prefetch" href="/wiki/assets/js/258.5370594f.js"><link rel="prefetch" href="/wiki/assets/js/259.0ebdecb4.js"><link rel="prefetch" href="/wiki/assets/js/26.fa71843f.js"><link rel="prefetch" href="/wiki/assets/js/260.0ae7b5e5.js"><link rel="prefetch" href="/wiki/assets/js/261.48be1800.js"><link rel="prefetch" href="/wiki/assets/js/262.5cbaf001.js"><link rel="prefetch" href="/wiki/assets/js/263.37d0ca3b.js"><link rel="prefetch" href="/wiki/assets/js/264.83d1b59e.js"><link rel="prefetch" href="/wiki/assets/js/265.fcb48e49.js"><link rel="prefetch" href="/wiki/assets/js/266.4c5ac817.js"><link rel="prefetch" href="/wiki/assets/js/267.0011cfcb.js"><link rel="prefetch" href="/wiki/assets/js/268.1468fe76.js"><link rel="prefetch" href="/wiki/assets/js/269.c2759f0d.js"><link rel="prefetch" href="/wiki/assets/js/27.61820174.js"><link rel="prefetch" href="/wiki/assets/js/270.f73b4359.js"><link rel="prefetch" href="/wiki/assets/js/271.e801602e.js"><link rel="prefetch" href="/wiki/assets/js/272.99e228ad.js"><link rel="prefetch" href="/wiki/assets/js/273.e8ed9744.js"><link rel="prefetch" href="/wiki/assets/js/274.e63968cb.js"><link rel="prefetch" href="/wiki/assets/js/28.5d4b2c17.js"><link rel="prefetch" href="/wiki/assets/js/29.8dd8a7ce.js"><link rel="prefetch" href="/wiki/assets/js/3.e5b2c1ab.js"><link rel="prefetch" href="/wiki/assets/js/30.5741d1bb.js"><link rel="prefetch" href="/wiki/assets/js/31.813f7bd2.js"><link rel="prefetch" href="/wiki/assets/js/32.e4a024e0.js"><link rel="prefetch" href="/wiki/assets/js/33.3ed7d15f.js"><link rel="prefetch" href="/wiki/assets/js/34.d0f9d300.js"><link rel="prefetch" href="/wiki/assets/js/35.617dabbb.js"><link rel="prefetch" href="/wiki/assets/js/36.4454c963.js"><link rel="prefetch" href="/wiki/assets/js/37.5496a5a3.js"><link rel="prefetch" href="/wiki/assets/js/38.91070708.js"><link rel="prefetch" href="/wiki/assets/js/39.afd198a1.js"><link rel="prefetch" href="/wiki/assets/js/4.d15f9ece.js"><link rel="prefetch" href="/wiki/assets/js/40.6c917e27.js"><link rel="prefetch" href="/wiki/assets/js/41.1e4782ca.js"><link rel="prefetch" href="/wiki/assets/js/42.707fc5c4.js"><link rel="prefetch" href="/wiki/assets/js/43.6819b045.js"><link rel="prefetch" href="/wiki/assets/js/44.9df13fc0.js"><link rel="prefetch" href="/wiki/assets/js/45.d6e1cb5c.js"><link rel="prefetch" href="/wiki/assets/js/46.51ebf663.js"><link rel="prefetch" href="/wiki/assets/js/47.f1a977b1.js"><link rel="prefetch" href="/wiki/assets/js/48.a5adff14.js"><link rel="prefetch" href="/wiki/assets/js/49.92b6c235.js"><link rel="prefetch" href="/wiki/assets/js/5.1529c6e3.js"><link rel="prefetch" href="/wiki/assets/js/50.35f68f05.js"><link rel="prefetch" href="/wiki/assets/js/51.95c9b20f.js"><link rel="prefetch" href="/wiki/assets/js/52.d5e3e28d.js"><link rel="prefetch" href="/wiki/assets/js/53.f466e862.js"><link rel="prefetch" href="/wiki/assets/js/54.11aed720.js"><link rel="prefetch" href="/wiki/assets/js/55.732cc66a.js"><link rel="prefetch" href="/wiki/assets/js/56.340dbc27.js"><link rel="prefetch" href="/wiki/assets/js/57.64bc9f56.js"><link rel="prefetch" href="/wiki/assets/js/58.e57ec7c6.js"><link rel="prefetch" href="/wiki/assets/js/59.3a1a498b.js"><link rel="prefetch" href="/wiki/assets/js/6.8a166ea6.js"><link rel="prefetch" href="/wiki/assets/js/60.137f077f.js"><link rel="prefetch" href="/wiki/assets/js/61.5354c447.js"><link rel="prefetch" href="/wiki/assets/js/62.45d4dc4e.js"><link rel="prefetch" href="/wiki/assets/js/63.ffe61530.js"><link rel="prefetch" href="/wiki/assets/js/64.c5faf77f.js"><link rel="prefetch" href="/wiki/assets/js/65.3cf6e918.js"><link rel="prefetch" href="/wiki/assets/js/66.1e02636f.js"><link rel="prefetch" href="/wiki/assets/js/67.7fc893fd.js"><link rel="prefetch" href="/wiki/assets/js/68.b27af86e.js"><link rel="prefetch" href="/wiki/assets/js/69.73f0b502.js"><link rel="prefetch" href="/wiki/assets/js/7.068c2191.js"><link rel="prefetch" href="/wiki/assets/js/70.9bad358f.js"><link rel="prefetch" href="/wiki/assets/js/71.9b6c4dd8.js"><link rel="prefetch" href="/wiki/assets/js/72.9d98f190.js"><link rel="prefetch" href="/wiki/assets/js/73.fe225cb9.js"><link rel="prefetch" href="/wiki/assets/js/74.d923e769.js"><link rel="prefetch" href="/wiki/assets/js/75.4d144757.js"><link rel="prefetch" href="/wiki/assets/js/76.623c12ec.js"><link rel="prefetch" href="/wiki/assets/js/77.64e49106.js"><link rel="prefetch" href="/wiki/assets/js/78.b6d0d59b.js"><link rel="prefetch" href="/wiki/assets/js/79.2a9e9a41.js"><link rel="prefetch" href="/wiki/assets/js/8.0940c716.js"><link rel="prefetch" href="/wiki/assets/js/80.bfe9fa5d.js"><link rel="prefetch" href="/wiki/assets/js/81.983b58ba.js"><link rel="prefetch" href="/wiki/assets/js/82.05f3d693.js"><link rel="prefetch" href="/wiki/assets/js/83.b8e7d670.js"><link rel="prefetch" href="/wiki/assets/js/84.f2c6a48f.js"><link rel="prefetch" href="/wiki/assets/js/85.bfe76d65.js"><link rel="prefetch" href="/wiki/assets/js/86.4c916fd5.js"><link rel="prefetch" href="/wiki/assets/js/87.3f2ae6b7.js"><link rel="prefetch" href="/wiki/assets/js/88.d4d50061.js"><link rel="prefetch" href="/wiki/assets/js/89.9761907d.js"><link rel="prefetch" href="/wiki/assets/js/9.fa8e2285.js"><link rel="prefetch" href="/wiki/assets/js/90.07779353.js"><link rel="prefetch" href="/wiki/assets/js/91.565372ac.js"><link rel="prefetch" href="/wiki/assets/js/92.7a9a7105.js"><link rel="prefetch" href="/wiki/assets/js/93.de5df141.js"><link rel="prefetch" href="/wiki/assets/js/94.b96d2cf1.js"><link rel="prefetch" href="/wiki/assets/js/95.2df46ca6.js"><link rel="prefetch" href="/wiki/assets/js/96.ad10e0c4.js"><link rel="prefetch" href="/wiki/assets/js/97.dded19c1.js"><link rel="prefetch" href="/wiki/assets/js/98.aaa20963.js"><link rel="prefetch" href="/wiki/assets/js/99.70275314.js">
    <link rel="stylesheet" href="/wiki/assets/css/0.styles.28a8e502.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki/" class="home-link router-link-active"><!----> <span class="site-name">TIL wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/pravusid/TIL" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/pravusid/TIL" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>람다</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wiki/Kotlin/kotlin-lambda.html#람다-식과-멤버-참조" class="sidebar-link">람다 식과 멤버 참조</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/Kotlin/kotlin-lambda.html#람다와-컬렉션" class="sidebar-link">람다와 컬렉션</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/Kotlin/kotlin-lambda.html#람다식의-문법" class="sidebar-link">람다식의 문법</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#현재-영역에-있는-변수에-접근" class="sidebar-link">현재 영역에 있는 변수에 접근</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#멤버-참조" class="sidebar-link">멤버 참조</a></li></ul></li><li><a href="/wiki/Kotlin/kotlin-lambda.html#컬렉션-함수형-api" class="sidebar-link">컬렉션 함수형 API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#filter와-map" class="sidebar-link">filter와 map</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#all-any-count-find" class="sidebar-link">all, any, count, find</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#groupby" class="sidebar-link">groupBy</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#flatmap과-flatten" class="sidebar-link">flatMap과 flatten</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#lazy-컬렉션-연산" class="sidebar-link">lazy 컬렉션 연산</a></li></ul></li><li><a href="/wiki/Kotlin/kotlin-lambda.html#자바-함수형-인터페이스-활용" class="sidebar-link">자바 함수형 인터페이스 활용</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#람다를-함수형-인터페이스로-명시적-변경" class="sidebar-link">람다를 함수형 인터페이스로 명시적 변경</a></li></ul></li><li><a href="/wiki/Kotlin/kotlin-lambda.html#lambda-with-receiver-let-with-run-apply" class="sidebar-link">Lambda with receiver: let, with, run, apply</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#let-함수" class="sidebar-link">let 함수</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#with-함수" class="sidebar-link">with 함수</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#run-함수" class="sidebar-link">run 함수</a></li><li class="sidebar-sub-header"><a href="/wiki/Kotlin/kotlin-lambda.html#apply-함수" class="sidebar-link">apply 함수</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="람다"><a href="#람다" class="header-anchor">#</a> 람다</h1> <h2 id="람다-식과-멤버-참조"><a href="#람다-식과-멤버-참조" class="header-anchor">#</a> 람다 식과 멤버 참조</h2> <p>일련의 동작을 변수에 저장하거나 다른 함수에 넘겨야 하는 경우가 자주 있다.
예전 자바에서는 익명 내부 클래스를 통해 이런 목적을 달성했지만, 문법이 상당히 번거롭다.</p> <p>이와 달리 함수형 프로그래밍에서는 함수를 값 처럼 다루는 접근 방법을 택함으로써 이 문제를 해결한다.
클래스를 선언하고 그 클래스의 인스턴스를 함수에 넘기는 대신 함수형 언어에서는 함수를 직접 다른 함수에 전달할 수 있다.</p> <p>람다식을 사용하면 함수를 선언할 필요가 없고 코드블록을 직접 함수의 인자로 전달할 수 있다.</p> <h2 id="람다와-컬렉션"><a href="#람다와-컬렉션" class="header-anchor">#</a> 람다와 컬렉션</h2> <p>람다가 없다면 컬렉션을 편리하게 처리할 수 있는 좋은 라이브러리를 제공하기 힘들다.</p> <p><code>data class Person(val name: String, val age: Int)</code>
사람들로 이루어진 리스트가 있고 그중 가장 연장자를 찾으려 한다. 람다를 사용하지 않는다면 루프를 써서 직접 검색을 구현할 것이다.</p> <p>하지만 람다를 사용한 라이브러리 함수를 쓰면 간결하게 결과를 구할 수 있다. 모든 컬렉션에 대해 maxBy 함수를 호출할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">val</span> people <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">maxBy</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>age <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>Bob<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">31</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>위의 코드를 멤버 참조를 활용하여 다음과 같이 사용할 수도 있다.
<code>people.maxBy(Person::age)</code></p> <h2 id="람다식의-문법"><a href="#람다식의-문법" class="header-anchor">#</a> 람다식의 문법</h2> <p><code>{ x: Int, y: Int -&gt; x + y }</code></p> <p>코틀린 람다식은 항상 중괄호로 둘러싸여 있다. 또한 인자 목록 주변에 괄호가 없다.
람다식을 변수에 저장하여, 다른 일반 함수와 마찬가지로 다룰 수 있다.</p> <p>람다식을 직접 호출할 수도 있지만 읽기도 불편하고 쓸모도 없다.
코틀린에서 <code>run()</code> 함수를 사용하면 인자로 받은 람다를 실행할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">42</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> run <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token number">42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>앞에서 작성한 연장자를 찾는 코드를 람다로 다시 쓰면 다음과 같다
<code>people.maxBy({ p: Person -&gt; p.age })</code></p> <p>코틀린에서는 함수호출시 맨뒤에 있는 인자가 람다식이라면 해당 람다를 괄호 밖으로 빼낼 수 있다.
<code>people.maxBy() { p: Person -&gt; p.age }</code></p> <p>람다가 함수의 유일한 인자이고 괄호 뒤에 람다를 썼다면 호출시 빈 괄호는 생략해도 된다.
<code>people.maxBy { p: Person -&gt; p.age }</code></p> <p>로컬 변수처럼 컴파일러는 람다 파라미터의 타입도 추론한다.
<code>people.maxBy { p -&gt; p.age }</code></p> <p>람다의 파라미터가 하나뿐이고 타입을 컴파일러가 추론할 수 있을경우 디폴트 파라미터인 <code>it</code>을 쓸 수 있다.
<code>people.maxBy { it.age }</code></p> <blockquote><p>람다를 변수에 저장할 때는 파라미터의 타입을 추론할 문맥이 없으므로, 타입을 명시해야 한다.</p></blockquote> <p><strong>본문이 여러 줄로 이루어진 람다의 경우 본문의 맨 마지막에 있는 식이 람다의 결과 값이 된다.</strong></p> <h3 id="현재-영역에-있는-변수에-접근"><a href="#현재-영역에-있는-변수에-접근" class="header-anchor">#</a> 현재 영역에 있는 변수에 접근</h3> <p>중첩 클래스와 동일하게 람다에서도 파이널 변수가 아닌 로컬변수에 접근하여 변경할 수 있다.
마찬가지로 람다를 함수 안에서 정의하면 함수의 파라미터뿐 아니라 람다 정의에 앞서 선언된 로컬 변수까지 람다에서 접근가능하다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">printMessageWithPrefix</span><span class="token punctuation">(</span>messages<span class="token operator">:</span> Collection<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">,</span> prefix<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  message<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> <span class="token comment">// 람다식</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;<span class="token interpolation"><span class="token delimiter variable">${</span>prefix<span class="token delimiter variable">}</span></span> <span class="token interpolation"><span class="token delimiter variable">${</span>it<span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>이와 같이 람다 안에서 사용하는 외부 변수를 람다가 capture 한 변수라고 부른다.
기본적으로 함수 안에 정의된 로컬변수의 생명주기는 함수 반환과 함께 끝나지만,
capture 변수가 있는 람다를 저장해서 함수 종료후에 실행해도 람다의 본문코드는 capture 변수를 사용할 수 있다.</p> <blockquote><p>코틀린에서 파이널변수(val)을 capture하면 변수의 값을 복사하고, 변경가능변수(var)를 capture하면 변수를 Ref 클래스 인스턴스에 넣는다.
그 Ref 인스턴스에 대한 참조를 파이널로 만들면 쉽게 람다로 capture할 수 있고, 람다에서는 Ref 인스턴스의 필드를 변경할 수 있다.</p></blockquote> <h3 id="멤버-참조"><a href="#멤버-참조" class="header-anchor">#</a> 멤버 참조</h3> <p>넘기려는 코드가 이미 함수로 선언된 경우, 함수를 호출하는 람다를 사용하지 않고 함수를 직접 넘기는 방법을 사용한다.</p> <p>코틀린에서는 자바8과 마찬가지로 함수를 값으로 바꿀 수 있다.
이중 콜론 <code>::</code>을 사용한 식을 Member reference 라고 부른다. 멤버참조는 프로퍼티나 메소드를 단 하나만 호출하는 함수 값을 만들어 준다.</p> <p>Member reference: <code>클래스::멤버</code></p> <p>참조대상이 함수/프로퍼티와 관계없이 참조 뒤에는 괄호를 넣으면 안된다.
멤버 참조는 그 멤버를 호출하는 람다와 같은 타입이다. 따라서 다음과 같이 바꿔 쓸 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code>people<span class="token punctuation">.</span><span class="token function">maxBy</span><span class="token punctuation">(</span>Person<span class="token operator">::</span>age<span class="token punctuation">)</span>
people<span class="token punctuation">.</span><span class="token function">maxBy</span> <span class="token punctuation">{</span> p <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span>age <span class="token punctuation">}</span>
people<span class="token punctuation">.</span><span class="token function">maxBy</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>age <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>또한 멤버가 아닌 최상위 함수나 프로퍼티를 참조할 수도 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">salute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Salute!&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token operator">::</span>salute<span class="token punctuation">)</span>
Salute<span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>람다로 인자가 여럿인 다른 함수에게 작업을 위임하는 경우 람다를 정의하지 않고 직접 위임함수에 대한 참조를 제공할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token comment">// case1</span>
<span class="token keyword">val</span> action <span class="token operator">=</span> <span class="token punctuation">{</span> person<span class="token operator">:</span> Person<span class="token punctuation">,</span> message<span class="token operator">:</span> String <span class="token operator">-&gt;</span>
  <span class="token function">sendEmail</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// case2</span>
<span class="token keyword">val</span> nextAction <span class="token operator">=</span> <span class="token operator">::</span>sendEmail
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>생성자 참조를 사용하면 클래스 생성 작업을 연기하거나 저장해둘 수 있다.
<code>::</code> 뒤에 클래스 이름을 넣으면 생성자 참조를 만들 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token punctuation">,</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> age<span class="token operator">:</span> Int<span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">val</span> createPerson <span class="token operator">=</span> <span class="token operator">::</span>Person <span class="token comment">// 생성자 참조를 변수에 할당한다</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">val</span> p <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>Alice<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">29</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>확장함수도 멤버변수와 똑같은 방식으로 참조할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> Person<span class="token punctuation">.</span><span class="token function">isAdult</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> age <span class="token operator">&gt;</span> <span class="token number">21</span>
<span class="token keyword">val</span> predicate <span class="token operator">=</span> Person<span class="token operator">::</span>isAdult
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>코틀린 1.1 부터는 참조를 얻은 다음 참조를 호출할 때 인스턴스 객체 제공을 바운드 멤버참조로 할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> p <span class="token operator">=</span> Person<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">&quot;Dmitry&quot;</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> personAgeFunction <span class="token operator">=</span> Person<span class="token operator">::</span>age

<span class="token comment">// 바운드 멤버참조로 고쳐쓰면 다음과 같다</span>
<span class="token keyword">val</span> dmitryAgeFunction <span class="token operator">=</span> p<span class="token operator">::</span>age
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="컬렉션-함수형-api"><a href="#컬렉션-함수형-api" class="header-anchor">#</a> 컬렉션 함수형 API</h2> <p>함수형 프로그래밍 스타일을 사용하면 컬렉션을 다룰 때 편리하다.
이런 스타일은 C#, 그루비, 스칼라 등 람다를 지원하는 대부분의 언어에서 찾아볼 수 있다.</p> <h3 id="filter와-map"><a href="#filter와-map" class="header-anchor">#</a> filter와 map</h3> <p>filter 함수는 컬렉션을 이터레이션 하면서 주어진 람다에 각 원소를 넘기고 람다가 true를 반환하는 원소만 모은다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> list <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">filter</span> <span class="token punctuation">{</span> it <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>filter 함수는 컬렉션에서 원치 않는 원소를 제거하지만 원소를 변환할 수는 없다.
원소를 변환하기 위해서 map 함수를 사용해야 한다.</p> <p>map 함수는 주어진 람다를 컬렉션의 각 원소에 적용한 결과를 모아서 새 컬렉션을 만든다 (mapping)</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> list <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">map</span> <span class="token punctuation">{</span> it <span class="token operator">*</span> it <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>맵(dictionary 자료형)의 경우 key와 value를 처리하는 함수가 따로 존재한다.
<code>filterKeys</code>와 <code>mapKeys</code>는 키를 걸러내거나 변환하고 <code>filterValues</code>와 <code>mapValues</code>는 값을 걸러내거나 변환한다.</p> <h3 id="all-any-count-find"><a href="#all-any-count-find" class="header-anchor">#</a> all, any, count, find</h3> <p>컬렉션의 원소가 어떤 조건을 만족하는지 판단하는 연산이 있다.
코틀린에서 <code>all</code>과 <code>any</code>가 그런 연산이다.
<code>count</code>함수는 조건을 만족하는 원소의 개수를 반환하며, <code>find</code>함수는 조건을 만족하는 첫 번째 원소를 반환한다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> canBeInClub27 <span class="token operator">=</span> <span class="token punctuation">{</span> p<span class="token operator">:</span> Person <span class="token operator">-&gt;</span> p<span class="token punctuation">.</span>age <span class="token operator">&lt;=</span> <span class="token number">27</span> <span class="token punctuation">}</span>
<span class="token keyword">val</span> people <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>canBeInClub27<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token boolean">false</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>canBeInClub27<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>어떤 조건에 대해 <code>!all</code>을 수행한 결과와 그 조건의 부정에 대해 <code>any</code>를 수행한 결과는 같다.
또 어떤 조건에 대해 <code>!any</code>를 수행한 결과와 그 조건의 부정에 대해 <code>all</code>을 수행한 결과도 같다.
가독성을 높이려면 <code>any</code>와 <code>all</code>앞에 <code>!</code>를 붙이지 않는 편이 좋다.</p> <p>조건을 만족하는 원소의 개수를 구하려면 count를 사용한다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> people <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>canBeInClub27<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><code>count</code>를 사용하지 않고 컬렉션을 필터링한 결과의 크기를 가져오는 경우가 있다.
하지만 그렇게 처리를 하면 조건을 만족하는 모든 원소가 들어가는 중간 컬렉션이 생성된다. 중간 연산결과가 필요한 것이 아니라면 <code>count</code>가 더 효율적이다.</p></blockquote> <p>조건을 만족하는 원소를 하나 찾고 싶으면 <code>find</code> 함수를 사용한다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> people <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>canBeInClub27<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token operator">=</span>Alice<span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">27</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="groupby"><a href="#groupby" class="header-anchor">#</a> groupBy</h3> <p><code>groupBy</code>는 특성을 파라미터로 전달하면 컬렉션을 자동으로 구분해주는 함수이다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> list <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ab&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>String<span class="token operator">::</span>first<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>a<span class="token operator">=</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> ab<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="flatmap과-flatten"><a href="#flatmap과-flatten" class="header-anchor">#</a> flatMap과 flatten</h3> <p><code>flatMap</code> 함수는 먼저 인자로 주어진 람다를 컬렉션의 모든 객체에 적용하고 (map),
람다를 적용한 결과 얻어지는 여러 리스트를 한 리스트로 모은다 (flatten).</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> strings <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;def&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">flatMap</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>flatMap으로 리스트에 들어있는 원소를 단일 리스트로 변환하여 반환한다. (flatten: string to char, map: char to list)</p> <p>반환할 내용 없이 리스트를 펼치기만 하면 된다면 <code>flatten()</code> 함수를 사용하면 된다.</p> <h3 id="lazy-컬렉션-연산"><a href="#lazy-컬렉션-연산" class="header-anchor">#</a> lazy 컬렉션 연산</h3> <p>앞에서 사용한 <code>map</code> 이나 <code>filter</code> 같은 컬렉션 함수들은 결과를 즉시(eagerly) 생성한다.
sequence를 사용하여 연쇄적으로 컬렉션 연산을 할 수 있다.</p> <p><code>people.map(Person::name).filter { it.startWith(&quot;A&quot;) }</code></p> <p>두 번의 컬렉션 연산을 하면 두 개의 결과 리스트가 생성된다.
결과로 하나의 컬렉션만 필요하다면 보다 효율적인 연산방법이 필요하다.
이를 위해 지연계산을 할 수 있고, 지연 계산은 <code>Sequence</code> 인터페이스를 활용한다.</p> <p>우선 컬렉션을 시퀀스로 변환하고 결과를 구한 뒤 컬렉션으로 변환하는 과정이 필요하다.</p> <p><code>people.asSequence().map(Person::name).filter { it.startWith(&quot;A&quot;) }. toList()</code></p> <p>시퀀스의 원소는 필요할 때 계산된다(지연계산).
따라서 시퀀스에서 계산을 실행하게 만드려면 최종 시퀀스의 원소를 하나씩 이터레이션 하거나 시퀀스를 리스트로 변환해야 한다.</p> <p>지연계산을 위해서 시퀀스는 중간연산과 최종연산으로 나누어진다.
중간연산은 다른 시퀀스를 반환하고, 최종연산은 결과를 반환한다. 중간연산은 항상 지연 계산된다.
결과는 최초 컬렉션을 변환한 시퀀스로부터 일련의 계산을 수행해 얻을 수 있는 컬렉션이나 원소, 숫자, 객체이다.</p> <blockquote><p>자바8의 스트림의 개념이 시퀀스와 같다. 코틀린에서 같은 개념을 별도로 구현해서 제공하는 이유는 자바6 기반이기 때문이다.
자바8에서는 코틀린 컬렉션과 시퀀스에서 제공하지 않는 스트림 병렬실행이 있으므로 적절한 쪽을 선택해서 사용하는 것이 좋다.</p></blockquote> <h4 id="generatesequence"><a href="#generatesequence" class="header-anchor">#</a> generateSequence()</h4> <p>시퀀스를 생성할 때 <code>asSequence()</code> 함수 뿐만 아니라 <code>generateSequence()</code> 함수를 사용할 수 있다.
이런 시퀀스를 사용하는 용례중 하나는 객체의 조상으로 이루어진 시퀀스를 만들어 내는 것이다.</p> <p>다음은 어떤 파일의 상위 디렉토리를 찾으면서 숨김 속성을 가진 디렉토리에 파일이 들어있는지 검사하는 것이다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> File<span class="token punctuation">.</span><span class="token function">isInsideHiddenDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span>
  <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>parentFile <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">any</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>isHidden <span class="token punctuation">}</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">val</span> file <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">&quot;Users/svtk/.HiddenDir/a.txt&quot;</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">isInsideHiddenDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="자바-함수형-인터페이스-활용"><a href="#자바-함수형-인터페이스-활용" class="header-anchor">#</a> 자바 함수형 인터페이스 활용</h2> <p>자바로 작성된 API에 코틀린 람다를 사용해도 문제가 없다.
함수형 인터페이스(functional interface) 또는 SAM(single abstract method) 인터페이스에 람다를 사용할 수 있다.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">postponeComputation</span><span class="token punctuation">(</span><span class="token keyword">int</span> delay<span class="token punctuation">,</span> <span class="token class-name">Runnable</span> computation<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>코틀린에서 람다를 위 함수에 넘길 수 있다. 또한 객체식을 함수형 인터페이스 구현으로 넘길 수도 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token function">postponeComputation</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

<span class="token function">postponeComputation</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token operator">:</span> Runnable <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>하지만 람다와 익명 객체 사이에는 차이가 있다. 객체를 명시적으로 선언하는 경우 메소드를 호출할 때 마다 새로운 객체가 생성된다.
람다의 경우 람다에 대응하는 무명객체를 메소드 호출마다 반복 사용한다.
만약 람다가 지역변수를 capture하는 경우 매 호출마다 새로운 인스턴스를 생성해준다.</p> <p>컬렉션을 확장한 메소드에 람다를 넘기는 경우(코틀린 자체의 함수),
즉 코틀린 inline으로 표시된 코틀린 함수에 람다를 넘기면 아무런 무명 클래스도 만들어지지 않는다.
대부분의 코틀린 확장 함수에는 inline 표시가 붙어있다.</p> <h3 id="람다를-함수형-인터페이스로-명시적-변경"><a href="#람다를-함수형-인터페이스로-명시적-변경" class="header-anchor">#</a> 람다를 함수형 인터페이스로 명시적 변경</h3> <p>SAM 생성자는 람다를 함수형 인터페이스 인스턴스로 변환할 수 있게 컴파일러가 자동으로 생성한 함수이다.
컴파일러가 자동으로 람다를 함수형 인터페이스 익명 클래스로 바꾸지 못하는 경우 SAM 생성자를 사용할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">createAllDoneRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Runnable <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Runnable <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;All done!&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token function">createAllDoneRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
All done<span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>SAM 생성자의 이름은 사용하려는 함수형 인터페이스 이름과 같다.
SAM 생성자는 함수형 인터페이스의 유일한 추상 메소드의 본문에 사용할 람다만을 인자로 받아서 함수형 인터페이스를 구현하는 클래스의 인스턴스를 반환한다.</p> <p>람다로 생성한 함수형 인터페이스 인스턴스를 변수에 저장해야 할 때도 SAM 생성자를 사용할 수 있다.
여러 버튼에 같은 리스너를 적용하는 상황에서 SAM 생성자를 통해 람다를 함수형 인터페이스 인스턴스로 만들어 변수에 저장해 활용할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">val</span> listener <span class="token operator">=</span> onClickListener <span class="token punctuation">{</span> view <span class="token operator">-&gt;</span>
  <span class="token keyword">val</span> text <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>view<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>button1 <span class="token operator">-&gt;</span> <span class="token string">&quot;first button&quot;</span>
    R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>button2 <span class="token operator">-&gt;</span> <span class="token string">&quot;second button&quot;</span>
    <span class="token keyword">else</span> <span class="token operator">-&gt;</span> <span class="token string">&quot;unknown button&quot;</span>
  <span class="token punctuation">}</span>
  <span class="token function">toast</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
button1<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
button2<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>OnClickListener</code>를 구현하는 객체 선언을 할 수도 있지만 SAM 생성자를 쓰는쪽이 더 간결하다.</p> <p>람다에는 익명 객체와는 달리 인스턴스 자신을 가리키는 <code>this</code>가 없다는 사실에 유의해야 한다.
컴파일러 입장에서 보면 람다는 코드 블록일 뿐이고, 객체가 아니므로 객체처럼 람다를 참조할 수는 없다.
람다 안에서 <code>this</code>는 람다를 둘러싼 클래스의 인스턴스를 가리킨다.</p> <p>이벤트 리스너가 이벤트를 처리하다가 자신의 리스너 등록을 해제해야 한다면, 익명 객체(object)를 사용하여 리스너를 구현하면된다.
익명객체 인스턴스 내부에서는 <code>this</code>가 객체 자신을 가리키기 때문이다.</p> <p>람다를 사용하면 대부분의 SAM 변환을 컴파일러가 자동으로 수행하지만, 가끔 오버로드 한 메소드 중 어떤 타입의 메소드를 선택해 변환후 넘겨줘야 할찌 모호한 때가 있다.
그럴경우 명시적으로 SAM 생성자를 적용하면 컴파일러 오류를 피할 수 있다.</p> <h2 id="lambda-with-receiver-let-with-run-apply"><a href="#lambda-with-receiver-let-with-run-apply" class="header-anchor">#</a> Lambda with receiver: let, with, run, apply</h2> <p>수신객체 지정 람다는 수신 객체를 명시하지 않고 람다의 본문 안에서 다른 객체의 메소드를 호출할 수 있는 방식이다.</p> <h3 id="let-함수"><a href="#let-함수" class="header-anchor">#</a> let 함수</h3> <p><code>let</code> 함수를 호출한 객체를 이어지는 블록의 인자로 넘기고, 블록의 결과값을 반환함: <code>fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R</code></p> <p>커스텀 뷰에서 Padding 값을 지정할 때 let을 사용해서 다음과 같이 작성할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code>TypedValue<span class="token punctuation">.</span><span class="token function">applyDimension</span><span class="token punctuation">(</span>TypedValue<span class="token punctuation">.</span>COMPLEX_UNIT_DIP<span class="token punctuation">,</span> <span class="token number">16f</span><span class="token punctuation">,</span>
    resources<span class="token punctuation">.</span>displayMetrics<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> padding <span class="token operator">-&gt;</span>
      <span class="token function">setPadding</span><span class="token punctuation">(</span>padding<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> padding<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>인자가 하나인 경우 <code>it</code>을 사용할 수 있다.</p> <p>let()을 안전한 호출(Safe Calls - ?.)과 함께 사용하면 <code>if (null != obj) ...</code> 를 대체할 수 있다.</p> <h3 id="with-함수"><a href="#with-함수" class="header-anchor">#</a> with 함수</h3> <p>어떤 객체의 이름을 반복하지 않고 그 객체에 대한 다양한 연산을 수행할 수 있는 함수이다: <code>fun &lt;T, R&gt; with(receiver: T, block: T.() -&gt; R): R</code></p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">alphabet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
  <span class="token keyword">val</span> result <span class="token operator">=</span> <span class="token function">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>letter <span class="token keyword">in</span> <span class="token string">'A'</span><span class="token operator">..</span><span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>letter<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>위의 예제를 <code>with</code>를 사용하여 작성해 보자</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">alphabet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">with</span><span class="token punctuation">(</span><span class="token function">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>letter <span class="token keyword">in</span> <span class="token string">'A'</span><span class="token operator">..</span><span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>letter<span class="token punctuation">)</span> <span class="token comment">// this 생략 가능</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 람다에서 값을 반환한다 (마지막 줄)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>람다는 일반함수와 비슷한 동작을 정의하는 한 방법이다. 수신 객체 지정 람다는 확장 함수와 비슷한 동작을 정의하는 한 방법이다.</p></blockquote> <p>with에게 인자로 넘긴 객체의 클래스와 with를 사용하는 코드가 들어있는 클래스 안에 이름이 같은 메소드가 있으면, 호출할 대상을 명시해야 한다.
바깥쪽 클래스(Outer)에 정의된 메소드를 호출하고싶다면 <code>this@Outer.method()</code> 처럼 써야한다.</p> <h3 id="run-함수"><a href="#run-함수" class="header-anchor">#</a> run 함수</h3> <p><code>run</code> 함수는 인자가 없는 익명 함수처럼 동작하는 형태와 객체에서 호출하는 형태 총 두 가지가 있다.</p> <p>객체 없이 <code>run</code> 함수를 사용하면 인자 없는 익명 함수처럼 사용할 수 있다
<code>fun &lt;R&gt; run(block: () -&gt; R): R</code></p> <p>이어지는 블럭 내에서 처리할 작업들을 넣어줄 수 있으며, 일반 함수와 마찬가지로 반환값을 지정할 수 있다.</p> <p>객체에서 <code>run</code> 함수를 호출할 경우, 호출하는 객체를 이어지는 블록의 리시버로 전달하고, 블록의 결과값을 반환한다.
<code>fun &lt;T, R&gt; T.run(block: T.() -&gt; R): R</code></p> <p>객체에서 이 함수를 호출하는 경우 객체를 리시버로 전달받으므로, 특정 객체의 메서드나 필드를 연속적으로 호출하거나 값을 할당할 때 사용한다.</p> <p><code>run</code> 메서드에서도 안전한 호출(Safe Calls)를 사용할 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  supportActionBar<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">run</span> <span class="token punctuation">{</span>
    <span class="token function">setDisplayHomeAsUpEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token function">setHomeAsUpIndicator</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_clear_white<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>with</code> 함수는 사실상 <code>run</code> 함수와 기능이 거의 동일하며, 리시버로 전달할 객체가 어디에 위치하는지만 다르다.
<code>run</code> 함수는 <code>let</code> 함수와 <code>with</code> 함수를 합쳐놓은 형태로 볼 수 있다.</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code>supportActionBar<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
  <span class="token function">with</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setDisplayHomeAsUpEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token function">setHomeAsUpIndicator</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>ic_clear_white<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>with</code> 함수는 안전한 호출을 지원하지 않으므로 <code>run</code> 함수를 통해 해당 기능을 활용할 수 있다.</p> <h3 id="apply-함수"><a href="#apply-함수" class="header-anchor">#</a> apply 함수</h3> <p><code>apply</code> 함수는 <code>with</code>와 거의 같지만, <code>apply</code>는 항상 자신에게 전달된 수신객체를 반환한다: <code>fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T</code></p> <p>앞의 예제를 <code>apply</code>를 사용하여 고쳐보자</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">alphabet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>letter <span class="token keyword">in</span> <span class="token string">'A'</span><span class="token operator">..</span><span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">append</span><span class="token punctuation">(</span>letter<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>apply</code>는 확장함수로 정의돼 있다. 이런 <code>apply</code>함수는 객체의 인스턴스를 만드는 즉시 프로퍼티 일부를 초기화 하는 경우 유용하다.</p> <p>앞의 예제는 표준 라이브러리의 <code>buildString</code> 함수를 사용하여 단순화 할 수 있다.
<code>buildString</code>의 인자는 수신객체 지정 람다이며 수신객체는 항상 <code>StringBuilder</code>가 된다</p> <div class="language-kotlin line-numbers-mode"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">alphabet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> buildString <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>letter <span class="token keyword">in</span> <span class="token string">'A'</span><span class="token operator">..</span><span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">append</span><span class="token punctuation">(</span>letter<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/wiki/assets/js/app.c7ac42e3.js" defer></script><script src="/wiki/assets/js/2.9f07087a.js" defer></script><script src="/wiki/assets/js/119.a44278b8.js" defer></script>
  </body>
</html>
