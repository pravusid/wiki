(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{541:function(s,t,a){"use strict";a.r(t);var e=a(28),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"rest-representational-state-transfer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rest-representational-state-transfer"}},[s._v("#")]),s._v(" REST (Representational State Transfer)")]),s._v(" "),a("p",[s._v("분산 하이퍼미디어 시스템(웹)을 위한 아키텍처 스타일")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://docs.microsoft.com/ko-kr/azure/architecture/best-practices/api-design",target:"_blank",rel:"noopener noreferrer"}},[s._v("MS API 디자인 가이드"),a("OutboundLink")],1),s._v("를 참고하여 서술함")]),s._v(" "),a("h2",{attrs:{id:"rest-기본-디자인-원칙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rest-기본-디자인-원칙"}},[s._v("#")]),s._v(" REST 기본 디자인 원칙")]),s._v(" "),a("p",[s._v("2000년 Roy Fielding은 웹 서비스 디자인 아키텍처 접근방식으로 REST를 제안하였다.\nREST는 프로토콜 독립적이지만 대부분의 REST 구현에서 HTTP 프로토콜을 사용하므로 HTTP REST API 디자인에 중점을 두어 설명함.")]),s._v(" "),a("p",[s._v("다음은 RESTful API의 기본 디자인 원칙이다")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Client-Server:")]),s._v(" "),a("ul",[a("li",[s._v("서로의 관심사를 분리하여 독립적으로 기능을 발전시키고 추가할 수 있어야 함")]),s._v(" "),a("li",[s._v("REST API는 리소스를 중심으로 디자인 되며, 리소스에는 클라이언트에서 액세스할 수 있는 모든 개체, 데이터, 서비스가 포함된다.")]),s._v(" "),a("li",[s._v("클라이언트가 리소스의 표현을 교환하여 서비스와 상호작용한다. 많은 HTTP API가 교환형식으로 JSON을 사용한다.")])])]),s._v(" "),a("li",[a("p",[s._v("Stateless:")]),s._v(" "),a("ul",[a("li",[s._v("REST API는 상태 비저장 요청 모델을 사용한다.")]),s._v(" "),a("li",[s._v("HTTP 요청은 독립적이고 임의순서로 발생하므로 요청 사이 상태정보를 유지할 수 없다.")]),s._v(" "),a("li",[s._v("정보는 리소스 자체에만 저장된다.")])])]),s._v(" "),a("li",[a("p",[s._v("Cache:")]),s._v(" "),a("ul",[a("li",[s._v("모든 서버 응답은 캐시 가능여부를 알 수 있어야 하며 캐시를 고려한 설계가 필요하다.")])])]),s._v(" "),a("li",[a("p",[s._v("Uniform Interface:")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Identification of resource: 리소스를 고유하게 식별하는 식별자인 URI가 있다.")])]),s._v(" "),a("li",[a("p",[s._v("manipulation of resources through representation:")]),s._v(" "),a("ul",[a("li",[s._v("리소스의 표현계층을 리소스의 식별자(URI)로 부터 분리한다.")]),s._v(" "),a("li",[s._v("HTTP 기반 REST API의 경우 리소스에 표준 HTTP 수행작업을 사용하는 균일한 인터페이스를 사용한다. (GET, POST, PUT, PATCH, DELETE...)")])])]),s._v(" "),a("li",[a("p",[s._v("self-descriptive message: 각각의 요청에 필요한 정보가 모두 담겨야 한다.")])]),s._v(" "),a("li",[a("p",[s._v("hypermedia as the engine of application state(HATEOAS): REST API는 표현에 포함된 하이퍼미디어 링크에 따라 구동된다.")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"orderID"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"productID"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"quantity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"orderValue"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"links"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"product"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/customers/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GET"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"product"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/customers/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PUT"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("이를 통해 내부 구현과 관계없이 어느 클라이언트에서든 플랫폼 독립적으로 API를 호출할 수 있어야 함 (표준 프로토콜 및 교환 가능한 데이터 형식 사용)")])])])]),s._v(" "),a("li",[a("p",[s._v("Layered System:")]),s._v(" "),a("ul",[a("li",[s._v("클라이언트 / 서버에 미들웨어 구성요소를 추가할 수 있는 구조이다")]),s._v(" "),a("li",[s._v("서버와 클라이언트 간 상호작용을 일관성 있게 유지해야 한다.")])])]),s._v(" "),a("li",[a("p",[s._v("Code-On-Demand (Optional):")]),s._v(" "),a("ul",[a("li",[s._v("서버가 네트워크를 통해 클라이언트에 프로그램을 전달하면 클라이언트에서 그 프로그램이 실행될 수 있어야 한다.")]),s._v(" "),a("li",[s._v("i.e. Java applet, JavaScript...")])])])]),s._v(" "),a("h2",{attrs:{id:"성숙도-모델"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#성숙도-모델"}},[s._v("#")]),s._v(" 성숙도 모델")]),s._v(" "),a("p",[s._v("2008년에 Leonard Richardson은 Web API에 대한 다음과 같은 "),a("a",{attrs:{href:"https://martinfowler.com/articles/richardsonMaturityModel.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("성숙도 모델"),a("OutboundLink")],1),s._v("을 제안하였다.")]),s._v(" "),a("ul",[a("li",[s._v("수준 0: 한 URI를 정의하고, 모든 작업은 이 URI에 대한 POST 요청이다")]),s._v(" "),a("li",[s._v("수준 1: 개별 리소스에 대한 별도 URI를 만든다")]),s._v(" "),a("li",[s._v("수준 2: HTTP 메소드를 사용하여 리소스에 대한 작업을 정의한다")]),s._v(" "),a("li",[s._v("수준 3: 하이퍼미디어(HATEOAS)를 사용한다")]),s._v(" "),a("li",[s._v("수준 3이어야 Roy Fielding이 정의한 RESTful API이지만 실제로 사용되는 다수의 Web API는 수준 2의 어디인가에 해당한다.")])]),s._v(" "),a("h2",{attrs:{id:"api-디자인-가이드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-디자인-가이드"}},[s._v("#")]),s._v(" API 디자인 가이드")]),s._v(" "),a("h3",{attrs:{id:"리소스-중심-api-구성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#리소스-중심-api-구성"}},[s._v("#")]),s._v(" 리소스 중심 API 구성")]),s._v(" "),a("p",[s._v("비즈니스 entity에 집중해야 한다.")]),s._v(" "),a("p",[s._v("예를 들어, 전자 상거래 시스템의 기본 entity는 고객과 주문이다.\n주문 정보가 포함된 HTTP POST 요청을 전송하여 주문을 생성한다.")]),s._v(" "),a("p",[a("code",[s._v("https://adventure-works.com/orders")])]),s._v(" "),a("blockquote",[a("p",[s._v("가능하다면 리소스 URI는 동사(리소스에 대한 작업)가 아닌 명사(리소스)를 기반으로 해야 한다")])]),s._v(" "),a("p",[s._v("REST의 목적은 entity에서 애플리케이션이 수행할 수 있는 작업을 모델링 하는 것이므로 단순히 내부 구조를 반영하는 API를 만들면 안된다.")]),s._v(" "),a("p",[s._v("URI에 일관성있는 명명 규칙을 적용한다. 일반적으로 컬렉션 및 항목에 대한 URI를 계층 구조로 구성하는 것이 좋다.\n예를 들어, "),a("code",[s._v("/customers")]),s._v("는 고객 컬렉션의 경로이고 "),a("code",[s._v("/customers/5")]),s._v("는 ID가 5인 고객의 경로이다.")]),s._v(" "),a("p",[s._v("서로 다른 리소스와의 관계도 고려해야 한다.\n예를 들어 "),a("code",[s._v("/customer/5/orders")]),s._v("는 고객 5에 대한 모든 주문을 나타낼 수 있다.\n반대로 "),a("code",[s._v("/orders/99/customer")]),s._v("는 주문 99의 고객을 나타낼 수 있다.")]),s._v(" "),a("p",[s._v("HTTP 응답 메시지 본문에 연결된 리소스에 대한 탐색 가능한 링크(HATEOAS)를 제공하는 방법이 좋다.")]),s._v(" "),a("p",[s._v("복잡한 시스템에서는 "),a("code",[s._v("/customer/1/orders/99/products")]),s._v("처럼 여러 관계 수준을 탐색할 수 있는 URI를 제공하고 싶을 수 있다.\n그러나 복잡성은 유지보수성을 낮추고 리소스간 관계가 변하면 유연성이 떨어진다.")]),s._v(" "),a("blockquote",[a("p",[s._v("리소스 URI를 "),a("code",[s._v("/컬렉션/항목/컬렉션")]),s._v(" 수준보다 복잡한 수준으로 요구하지 않는 것이 좋다")])]),s._v(" "),a("p",[s._v("모든 웹 요청은 서버의 부하를 높이므로 다수의 작은 리소스를 표시하는 번잡한 Web API를 피하도록 노력해야 한다.\n클라이언트 애플리케이션이 요구하는 모든 데이터를 찾기 위해 여러 요청을 보내는 대신,\n데이터를 비정규화하고 단일 요청을 통해 관련 정보를 표시하는 더 큰 리소스로 결합하는 것이 좋다.\n단, 이 접근 방식과 클라이언트에 필요 없는 데이터를 가져오는 오버헤드 사이의 균형을 맞춰야 한다.")]),s._v(" "),a("p",[s._v("Web API와 데이터 원본 사이에 종속성이 발생하지 않도록 해야 한다.\n예를 들어, 데이터가 관계형 데이터베이스에 저장되는 경우 API는 각 테이블을 리소스 컬렉션으로 표시할 필요가 없다.\n필요하다면 데이터베이스와 API 사이 매핑 계층을 도입하여 인터페이스가 데이터베이스 스키마 변경과 독립적이어야 한다.")]),s._v(" "),a("h3",{attrs:{id:"http-메소드를-기준으로-작업-정의"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-메소드를-기준으로-작업-정의"}},[s._v("#")]),s._v(" HTTP 메소드를 기준으로 작업 정의")]),s._v(" "),a("p",[s._v("HTTP 프로토콜은 요청에 체계의미를 할당하는 다양한 메소드를 정의한다.")]),s._v(" "),a("ul",[a("li",[s._v("GET: 지정된 URI에서 리소스 표현을 검색한다. 응답 메시지의 본문은 요청한 리소스의 세부 정보를 포함한다.")]),s._v(" "),a("li",[s._v("POST: 지정된 URI에 새 리소스를 만든다. 요청 메시지의 본문은 새 리소스의 세부정보를 제공한다. POST를 사용하여 실제로 리소스를 만들지 않는 작업을 트리거할 수도 있다.")]),s._v(" "),a("li",[s._v("PUT: 지정된 URI에 리소스를 만들거나 대체한다. 요청 메시지의 본문은 만드럭나 업데이트할 리소스를 지정한다.")]),s._v(" "),a("li",[s._v("PATCH: 리소스의 부분 업데이트를 수행한다. 요청 본문은 리소스에 적용할 변경 내용을 지정한다.")]),s._v(" "),a("li",[s._v("DELETE: 지정된 URI의 리소스를 제거한다.")])]),s._v(" "),a("p",[s._v("특정 요청의 효과는 리소스가 컬렉션인지 개별 항목인지에 따라 달라진다.\n다음 표는 RESTful 구현에서 채택하는 일반적인 규칙을 보여준다.")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("리소스")]),s._v(" "),a("th",[s._v("POST")]),s._v(" "),a("th",[s._v("GET")]),s._v(" "),a("th",[s._v("PUT")]),s._v(" "),a("th",[s._v("DELETE")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("/customers")])]),s._v(" "),a("td",[s._v("새 고객 생성")]),s._v(" "),a("td",[s._v("모든 고객 검색")]),s._v(" "),a("td",[s._v("고객 일괄 업데이트")]),s._v(" "),a("td",[s._v("모든 고객 제거")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("/customers/1")])]),s._v(" "),a("td",[a("strong",[s._v("오류")])]),s._v(" "),a("td",[s._v("고객 1 세부 정보")]),s._v(" "),a("td",[s._v("고객 1의 세부 정보 업데이트")]),s._v(" "),a("td",[s._v("고객 1 제거")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("/customers/1/orders")])]),s._v(" "),a("td",[s._v("고객 1의 새 주문 생성")]),s._v(" "),a("td",[s._v("고객 1의 모든 주문 검색")]),s._v(" "),a("td",[s._v("고객 1의 주문 일괄 업데이트")]),s._v(" "),a("td",[s._v("고객 1의 모든 주문 제거")])])])]),s._v(" "),a("p",[s._v("POST, PUT, PATCH 차이점을 구분하기 어려울 수 있다")]),s._v(" "),a("ul",[a("li",[s._v("POST\n"),a("ul",[a("li",[s._v("리소스를 생성한다")]),s._v(" "),a("li",[s._v("일반적으로 컬렉션에 POST 요청을 자주 하고 새 리소스는 컬렉션에 추가된다")]),s._v(" "),a("li",[s._v("새 리소스를 만들지 않고 기존 리소스에 처리할 데이터를 보낼 목적으로 사용할 수도 있다")])])]),s._v(" "),a("li",[s._v("PUT\n"),a("ul",[a("li",[s._v("리소스를 생성하거나 기존 리소스를 업데이트 한다")]),s._v(" "),a("li",[s._v("컬렉션 보다는 개별 리소스에 자주 적용된다")]),s._v(" "),a("li",[s._v("리소스의 URI를 지정하고, 요청 본문에는 리소스의 완전한 표현이 포함된다")]),s._v(" "),a("li",[s._v("URI를 사용하는 리소스가 있으면 리소스가 대체되고 아직 없다면 새 리소스를 생성한다(서버에서 지원한다면)")])])]),s._v(" "),a("li",[s._v("PATCH\n"),a("ul",[a("li",[s._v("기존 리소스에 "),a("strong",[s._v("부분 업데이트")]),s._v("를 수행한다")]),s._v(" "),a("li",[s._v("리소스의 URI를 지정하고, 요청 본문에는 리소스에 적용할 변경내용을 지정한다")]),s._v(" "),a("li",[s._v("리소스의 전체 표현이 아닌 변경 내용만 보내므로 PUT 보다 효율적일 수 있다")]),s._v(" "),a("li",[s._v("서버에서 리소스 생성을 지원하는 경우 새 리소스를 만들수도 있다(null 리소스를 업데이트)")])])])]),s._v(" "),a("p",[s._v("클라이언트가 동일한 PUT 요청을 여러번 제출하여도 결과는 항상 같아야한다.\nPOST, PATCH 요청은 여러번 제출하여도 반드시 결과가 같을 필요는 없다.")]),s._v(" "),a("h3",{attrs:{id:"http-의미-체계-준수"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-의미-체계-준수"}},[s._v("#")]),s._v(" HTTP 의미 체계 준수")]),s._v(" "),a("h4",{attrs:{id:"미디어-유형"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#미디어-유형"}},[s._v("#")]),s._v(" 미디어 유형")]),s._v(" "),a("p",[s._v("HTTP 프로토콜에서 형식은 MIME 유형이라고도 하는 미디어 유형을 사용하여 지정된다.\nbinary가 아닌 데이터의 경우 대부분 JSON, XML을 지원한다.")]),s._v(" "),a("p",[s._v("요청 또는 응답의 Content-Type 헤더는 표현 형식을 지정한다.\n다음은 JSON 데이터를 포함하는 POST 요청 예제이다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[s._v("POST")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[s._v("https://adventure-works.com/orders")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Type:")]),s._v(" application/json; charset=utf-8\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Length:")]),s._v(' 57\n\n{"Id":1,"Name":"Gizmo","Category":"Widgets","Price":1.99}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("서버에서 미디어 유형을 지원하지 않으면 HTTP 상태코드 415(Unsupported Media Type)를 반환해야 한다.")]),s._v(" "),a("p",[s._v("클라이언트 요청에는 클라이언트가 응답 메시지에서 서버로부터 받을 미디어 유형 목록을 포함하는 Accept 헤더가 포함될 수 있다.")]),s._v(" "),a("p",[s._v("서버가 나열된 미디어 유형 중 어떤 것도 일치시킬 수 없는 경우 HTTP 상태코드 406(Not Acceptable)을 반환해야 한다.")]),s._v(" "),a("h4",{attrs:{id:"get-메소드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-메소드"}},[s._v("#")]),s._v(" GET 메소드")]),s._v(" "),a("p",[s._v("성공적인 GET 메소드는 일반적으로 HTTP 상태코드 200(OK)을 반환한다.\n리소스를 찾을 수 없는 경우 상태코드 404(Not Found)를 반환해야 한다.")]),s._v(" "),a("h4",{attrs:{id:"post-메소드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-메소드"}},[s._v("#")]),s._v(" POST 메소드")]),s._v(" "),a("p",[s._v("POST 메소드는 새 리소스를 만드는 경우 HTTP 상태코드 201(Created)을 반환한다.\n새 리소스의 URI는 응답의 Location 헤더에 포함된다. 응답 본문은 리소스의 표현을 포함한다.")]),s._v(" "),a("p",[s._v("일부 처리를 수행하지만 새 리소스를 만들지 않는 경우 메소드는 HTTP 상태코드 200(OK)을 반환하고 작업 결과를 응답 본문에 포함할 수 있다.\n혹은 반환할 결과가 없다면 메소드는 응답 본문 없이 상태코드 204(No Content)를 반환할 수 있다.")]),s._v(" "),a("p",[s._v("클라이언트가 잘못된 데이터를 요청에 포함하면 서버에서 HTTP 상태코드 400(Bad Request)을 반환한다.\n응답 본문에는 오류에 대한 정보 또는 정보를 제공하는 URI 링크가 포함될 수 있다.")]),s._v(" "),a("h4",{attrs:{id:"put-메소드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#put-메소드"}},[s._v("#")]),s._v(" PUT 메소드")]),s._v(" "),a("p",[s._v("PUT 메소드는 POST 메소드와 마찬가지로 새 리소스를 만드는 경우 HTTP 상태코드 201(Created)를 반환한다.\n기존 리소스를 업데이트하는 경우 200(OK) 또는 204(No Content)를 반환한다.")]),s._v(" "),a("p",[s._v("경우에 따라 기존 리소스를 업데이트 할 수 없는 경우도 있는데 이 경우 HTTP 상태코드 409(Conflict)를 반환할 수도 있다.")]),s._v(" "),a("h4",{attrs:{id:"patch-메소드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#patch-메소드"}},[s._v("#")]),s._v(" PATCH 메소드")]),s._v(" "),a("p",[s._v("클라이언트는 PATCH 요청시 리소스 전체가 아니라 적용할 변경내용만 포함하여 보낸다.\nPATCH 메소드의 사양에는 패치 문서의 형식을 특정하지 않았으므로 요청의 미디어 형식에서 추론해야 한다.")]),s._v(" "),a("p",[s._v("Web API에 대한 일반적인 데이터 형식은 JSON이고 두 가지 주요 JSON 기반 패치 형식으로 JSON 패치 및 JSON 병합 배치가 있다.")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://tools.ietf.org/html/rfc7396",target:"_blank",rel:"noopener noreferrer"}},[s._v("JSON 병합패치"),a("OutboundLink")],1),s._v("는 원래 리소스와 동일한 구조를 가진 JSON의 변경/추가할 필드의 하위 집합만 포함한다.\n또한 필드값에 "),a("code",[s._v("null")]),s._v("을 지정하여 필드를 삭제할 수 있다. (리소스가 명시적 null 값을 가질 수 있으면 병합 패치가 적합하지 않음)")]),s._v(" "),a("p",[s._v("JSON 병합 패치의 미디어 유형은 "),a("code",[s._v("application/merge-patch+json")]),s._v("이다.")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://tools.ietf.org/html/rfc6902",target:"_blank",rel:"noopener noreferrer"}},[s._v("JSON 패치"),a("OutboundLink")],1),s._v("는 보다 유연하다.\n작업의 결과로 적용할 변경 내용을 지정하는대, 작업에는 추가, 제거, 바꾸기, 복사 및 테스트(값의 유효성 검사)가 포함된다.")]),s._v(" "),a("p",[s._v("JSON 패치의 미디어 유형은 "),a("code",[s._v("application/json-patch+json")]),s._v("이다.")]),s._v(" "),a("p",[s._v("다음은 PATCH 요청을 처리할 때 발생할 수 있는 몇 가지 일반적 오류 조건이다")]),s._v(" "),a("ul",[a("li",[s._v("지원되지 않는 패치 문서 형식: 415(Unsupported Media Type)")]),s._v(" "),a("li",[s._v("패치 문서의 형식이 오류: 400(Bad Request)")]),s._v(" "),a("li",[s._v("패치 문서가 유효하지만 현재 상태에서는 변경 내용을 리소스에 적용할 수 없음: 409(Conflict)")])]),s._v(" "),a("h4",{attrs:{id:"delete-메소드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-메소드"}},[s._v("#")]),s._v(" DELETE 메소드")]),s._v(" "),a("p",[s._v("삭제 작업이 성공하면 웹 서버는 성공적 처리를 응답 본문에 추가 정보가 포함되지 않는 HTTP 상태코드 204(No Content)로 응답해야 한다.")]),s._v(" "),a("p",[s._v("리소스가 없는 경우 웹서버는 상태코드 404(Not Found)를 반환할 수 있다.")]),s._v(" "),a("h4",{attrs:{id:"비동기-작업"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#비동기-작업"}},[s._v("#")]),s._v(" 비동기 작업")]),s._v(" "),a("p",[s._v("경우에 따라 POST, PUT, PATCH, DELETE 작업을 완료 하는데 시간이 소요되어\n작업이 완료될 때 까지 기다렸다가 클라이언트에 응답을 보내는 경우 허용되지 않는 수준의 대기시간이 발생할 수 있다.")]),s._v(" "),a("p",[s._v("이 경우 비동기 작업을 수행하는 방안을 고려해보아야 한다.\n요청 처리가 수락되었지만 아직 완료되지 않았음을 나타내는 HTTP 상태코드 202(Accepted)를 반환한다.")]),s._v(" "),a("p",[s._v("클라이언트가 상태 엔드포인트를 폴링하여 상태를 모니터링할 수 있도록 비동기 요청 상태를 반환하는 엔드포인트를 표시해야 한다.\n202 응답의 Location 헤더에 상태 엔드포인트 URI를 포함한다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token response-status"}},[a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token status-code number"}},[s._v("202")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[s._v("Accepted")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Location:")]),s._v(" /api/status/12345\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("클라이언트가 GET 요청을 보내는 경우 응답에 요청의 현재 상태가 포함되어야 한다.\n필요에 따라 예상 완료시간 또는 작업 취소 링크를 포함할 수 있다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token response-status"}},[a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token status-code number"}},[s._v("200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[s._v("OK")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Type:")]),s._v(" application/json"),a("span",{pre:!0,attrs:{class:"token application-json"}},[s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"In progress"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"link"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cancel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"method"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"delete"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/api/status/12345"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("비동기 작업에서 새 리소스를 생성하는 경우 작업 완료 후 상태 엔드포인트에서 상태코드 303(See Other)를 반환해야 한다.\n303 응답에 새 리소스의 URI를 제공하는 Location 헤더를 포함한다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token response-status"}},[a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token status-code number"}},[s._v("303")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[s._v("See Other")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Location:")]),s._v(" /api/orders/12345\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"데이터-필터링-및-페이지-매기기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#데이터-필터링-및-페이지-매기기"}},[s._v("#")]),s._v(" 데이터 필터링 및 페이지 매기기")]),s._v(" "),a("p",[s._v("단일 URI를 통해 리소스 컬렉션을 표시하면 정보의 하위 집합만 필요할 때 이에 맞춰 대량의 데이터를 가져올 수 있다.\n예를 들어, "),a("code",[s._v("/orders?min_cost=n")]),s._v(" 처럼 API가 URI의 query-string에서 조건을 전달할 수 있다.")]),s._v(" "),a("p",[s._v("컬렉션 리소스에 대한 GET 요청은 단일 요청에서 반환되는 데이터 양이 제한되도록 Web API를 디자인해야 한다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[s._v("/orders?limit=25&offset=50\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("클라이언트 애플리케이션을 돕기위해, 페이지가 매겨진 데이터를 반환하는 GET 요청은 컬렉션의 총 리소스 수를 나타내는 메타데이터를 포함해야 한다.")]),s._v(" "),a("p",[a("code",[s._v("/orders?sort=product_id")]),s._v(" 같이 정렬 매개 변수를 제공하여 데이터를 가져올 때 정렬하는 전략을 사용할 수 있다.\n그러나 쿼리 문자열 매개변수는 여러 캐시 구현에서 캐시된 데이터의 키로 사용되는 리소스 식별자의 일부를 구성하므로 캐싱에 나쁜 영향을 미칠 수 있다.")]),s._v(" "),a("p",[s._v("각 항목에 대량의 데이터가 포함된 경우 각 항목에 대해 반환되는 필드를 제한하도록 할 수 있다.\n예를 들어, 쉽표로 구분된 필드목록을 받는 "),a("code",[s._v("/orders?fields=product_id,quantity")]),s._v(" 같은 쿼리 문자열 매개변수를 사용할 수 있다.")]),s._v(" "),a("p",[s._v("쿼리 문자열의 모든 선택적 매개변수에 의미 있는 기본 값을 제공한다.\n예를 들어, 페이지를 구현하는 경우 "),a("code",[s._v("limit")]),s._v(" 매개변수를 10으로, "),a("code",[s._v("offset")]),s._v(" 매개변수를 0으로 설정하고,\n주문을 구현하는 경우 정렬 매개변수를 리소스의 키로 설정하고,\n프로젝션을 지원하는 경우 "),a("code",[s._v("fields")]),s._v(" 매개 변수를 리소스의 모든 필드로 설정한다.")]),s._v(" "),a("h3",{attrs:{id:"대용량-이진-리소스에-대한-부분-응답-지원"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#대용량-이진-리소스에-대한-부분-응답-지원"}},[s._v("#")]),s._v(" 대용량 이진 리소스에 대한 부분 응답 지원")]),s._v(" "),a("p",[s._v("리소스에 파일 또는 이미 같은 대용량 이진 필드가 포함될 수 있다.\n신뢰할 수 없는 간헐적 연결에 의한 문제를 해결하고 응답시간을 개선하려면 이러한 리소스를 chunk로 검색할 수 있는 방안을 고려해야 한다.")]),s._v(" "),a("p",[s._v("이렇게 하려면 Web API가 대용량 리소스의 GET 요청에 대해 Accept-Ranges 헤더를 지원해야 한다.\n이 헤더는 GET 작업이 부분 요청을 지원한다는 것을 나타낸다.")]),s._v(" "),a("p",[s._v("또한 이런 리소스에 대해 HTTP HEAD 요청을 구현하는 방안을 고려해야 한다.\nHEAD 요청은 리소스에 대해 설명하는 HTTP 헤더만 반환하고 메시지 본문이 비어있다는 점만 빼면 GET 요청과 비슷하다.")]),s._v(" "),a("p",[s._v("클라이언트 애플리케이션은 부분적인 GET 요청을 사용하여 리소스를 가져올지 여부를 결정하는 HEAD 요청을 사용할 수 있다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[s._v("HEAD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[s._v("https://adventure-works.com/products/10?fields=productImage")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("다음은 응답메시지 예제이다")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token response-status"}},[a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token status-code number"}},[s._v("200")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[s._v("OK")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Accept-Ranges:")]),s._v(" bytes\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Type:")]),s._v(" image/jpeg\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Length:")]),s._v(" 4580\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("Content-Length 헤더는 총 리소스 크기를 제공하고, Accept-Ranges 헤더는 해당 GET 작업이 일부결과를 지원함을 나타낸다.\n클라이언트 애플리케이션은 이 정보를 사용하여 더 작은 chunk에서 이미지를 검색할 수 있다.")]),s._v(" "),a("p",[s._v("첫 번째 요청은 범위 헤더를 사용하여 처음 2500 바이트를 가져온다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[s._v("GET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[s._v("https://adventure-works.com/products/10?fields=productImage")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Range:")]),s._v(" bytes=0-2499\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("응답 메시지는 HTTP 상태코드 206(Partial Content)을 반환하여 이 응답이 부분 응답임을 나타낸다.\nContent-Length 헤더는 메시지 본문에 반환된 실제 바이트 수를 지정하며, Content-Range 헤더는 해당 바이트가 리소스의 어느 부분 인지를 나타낸다.")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token response-status"}},[a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token status-code number"}},[s._v("206")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token reason-phrase string"}},[s._v("Partial Content")])]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Accept-Ranges:")]),s._v(" bytes\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Type:")]),s._v(" image/jpeg\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Length:")]),s._v(" 2500\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Content-Range:")]),s._v(" bytes 0-2499/4580\n\n...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"hateoas를-사용한-관련-리소스-탐색"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hateoas를-사용한-관련-리소스-탐색"}},[s._v("#")]),s._v(" HATEOAS를 사용한 관련 리소스 탐색")]),s._v(" "),a("p",[s._v("REST를 실행하는 기본 동기 중 하나는 URI 체계를 미리 알고 있지 않아도 전체 리소스 집합을 탐색할 수 있다는 것이다.\n각 HTTP GET 요청은 응답에 포함된 하이퍼링크를 통해 요청된 개체와 직접 관련된 리소스를 찾는데 필요한 정보를 반환하고,\n각 리소스에 대해 사용할 수 있는 작업을 설명하는 정보도 제공되어야 한다.")]),s._v(" "),a("p",[s._v("이 원칙을 HATEOAS(Hypertext as the Engine of Application State)라고 한다.")]),s._v(" "),a("blockquote",[a("p",[s._v("HATEOAS 원칙을 모델링 하는 표준 사양은 없다")])]),s._v(" "),a("p",[s._v("예를 들어, 주문과 고객 간의 관계를 처리하기 위해 주문 고객에게 사용가능한 작업을 식별하는 링크를 포함할 수 있다.")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"orderID"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"productID"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"quantity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"orderValue"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"links"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"customer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/customers/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GET"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text/xml"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"application/json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"customer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/customers/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PUT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"application/x-www-form-urlencoded"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"customer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/customers/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DELETE"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"self"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/orders/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GET"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text/xml"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"application/json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"self"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/orders/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PUT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"application/x-www-form-urlencoded"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"rel"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"self"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"href"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://adventure-works.com/orders/3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DELETE"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br")])]),a("p",[a("code",[s._v("links")]),s._v(" 배열에는 링크 집합이 있다. 각 링크는 관련 entity에 대한 작업을 나타낸다.\n각 링크의 데이터에는 관계, URI, HTTP 메소드 및 지원되는 MIME 형식이 포함된다.")]),s._v(" "),a("p",[s._v("또한 "),a("code",[s._v("links")]),s._v(" 배열은 검색된 리소스 자체에 대한 자체 참조 정보를 포함한다. 이러한 관계는 self 관계이다.")]),s._v(" "),a("p",[s._v("리소스의 상태에 따라 반환되는 링크 집합이 달라질 수 있다. 이는 애플리케이션 상태 엔진이 의미하는 바이다.")]),s._v(" "),a("h3",{attrs:{id:"restful-웹-api-버전-관리"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#restful-웹-api-버전-관리"}},[s._v("#")]),s._v(" RESTful 웹 API 버전 관리")]),s._v(" "),a("p",[s._v("Web API가 정적 상태를 유지할 가능성은 매우 낮다.\n비즈니스 요구 사항이 변경됨에 따라 자원의 새 컬렉션이 추가될 수 있으므로, 리소스 간의 관계와 리소스 구조가 수정될 수 있다.")]),s._v(" "),a("p",[s._v("Web API를 업데이트하는 동안 해당 변경이 API를 사용하는 클라이언트 애플리케이션에 미치는 영향을 고려해야 한다.")]),s._v(" "),a("p",[s._v("버전 관리를 사용하면 Web API는 자신이 표시하는 기능과 리소스를 나타낼 수 있으며,\n클라이언트 애플리케이션은 리소스나 기능의 특정 버전으로 요청을 제출할 수 있다.")]),s._v(" "),a("h4",{attrs:{id:"버전-관리-없음"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#버전-관리-없음"}},[s._v("#")]),s._v(" 버전 관리 없음")]),s._v(" "),a("p",[s._v("가장 간단한 방법이다. 중요한 변경 내용을 새 리소스 또는 새 연결으로 나타낼 수 있다.")]),s._v(" "),a("h4",{attrs:{id:"uri-버전-관리"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uri-버전-관리"}},[s._v("#")]),s._v(" URI 버전 관리")]),s._v(" "),a("p",[s._v("API를 수정하거나 리소스 체계를 변경할 때마다 각 리소스의 URI에 버전 번호를 추가한다.")]),s._v(" "),a("p",[a("code",[s._v("https://adventure-works.com/v2/customers/3")])]),s._v(" "),a("p",[s._v("이 버전 관리 메커니즘은 간단하지만 API 확장됨에 따라 복잡도가 증가한다.")]),s._v(" "),a("p",[s._v("서버가 다양한 버전을 지원해야 하며, URI가 버전에 따라 달라져서는 안된다.\n또한 이 체계는 모든 링크가 자신의 URI에 버전 번호를 포함하므로 HATEOAS 구현을 복잡하게 만든다.")]),s._v(" "),a("h4",{attrs:{id:"쿼리-문자열-버전-관리"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#쿼리-문자열-버전-관리"}},[s._v("#")]),s._v(" 쿼리 문자열 버전 관리")]),s._v(" "),a("p",[s._v("여러 URI를 제공하는 대신 HTTP 요청의 쿼리 문자열에 "),a("code",[s._v("https://adventure-works.com/customers/3?version=2")]),s._v(" 같은 매개변수로 리소스의 버전을 지정할 수 있다.")]),s._v(" "),a("p",[s._v("이 접근 방식은 같은 리소스가 언제나 같은 URI에서 검색된다는 의미 체계 장점이 있지만, 쿼리 문자열 구문을 분석하고 처리하여야 한다.\n또한 HATEOAS 구현이 URI 버전 관리 메커니즘으로 구현할 때와 마찬가지로 복잡하다.")]),s._v(" "),a("blockquote",[a("p",[s._v("일부 구형 웹 브라우저와 웹 프록시는 URI에 쿼리 문자열을 포함하는 응답을 캐싱하지 않는다")])]),s._v(" "),a("h4",{attrs:{id:"헤더-버전-관리"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#헤더-버전-관리"}},[s._v("#")]),s._v(" 헤더 버전 관리")]),s._v(" "),a("p",[s._v("버전 번호를 쿼리 문자열에 추가하지 않고 리소스 버전을 나타내는 사용자 지정 헤더를 사용할 수 있다.\n이 접근 방식을 사용하려면 클라이언트 애플리케이션이 적절한 헤더를 요청에 추가해야 한다. (생략시 버전1)")]),s._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[s._v("GET")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[s._v("https://adventure-works.com/customers/3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[s._v("HTTP/1.1")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("Custom-Header:")]),s._v(" api-version=1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("이전의 접근법과 마찬가지로 HATEOAS를 구현하려면 모든 링크에 사용자 정의 헤더를 포함해야 한다.")]),s._v(" "),a("h3",{attrs:{id:"open-api-initiative"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#open-api-initiative"}},[s._v("#")]),s._v(" Open API Initiative")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.openapis.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Open API Initiative"),a("OutboundLink")],1),s._v("는 REST API 설명을 표준화하기 위해 만들어졌다.\nSwagger 2.0 사양의 명칭이 OAS(Open API Specification)로 바뀐 후 Open API Initiative에 추가되었다.")]),s._v(" "),a("ul",[a("li",[s._v("Open API 사양에 REST API 디자인에 관한 독자적 지침이 있다")]),s._v(" "),a("li",[s._v("Open API에서는 인터페이스를 먼저 디자인 한 후 구현을 작성한다")]),s._v(" "),a("li",[s._v("Swagger 같은 도구는 인터페이스 문서를 생성할 수 있다")])]),s._v(" "),a("h2",{attrs:{id:"참고"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#참고"}},[s._v("#")]),s._v(" 참고")]),s._v(" "),a("p",[s._v("MS REST API 지침: "),a("a",{attrs:{href:"https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);