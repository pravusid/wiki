(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{541:function(t,a,r){"use strict";r.r(a);var s=r(28),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"graphql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#graphql"}},[t._v("#")]),t._v(" GraphQL")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://graphql-kr.github.io/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://graphql-kr.github.io/learn/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://graphql.org/learn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://graphql.org/learn/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://spec.graphql.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://spec.graphql.org/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/graphql/graphiql",target:"_blank",rel:"noopener noreferrer"}},[t._v("GraphQL IDE Monorepo"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"refs"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#refs"}},[t._v("#")]),t._v(" Refs")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.apollographql.com/blog/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.apollographql.com/blog/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://graphql.org/learn/best-practices/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://graphql.org/learn/best-practices/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.graphql.com/guides/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.graphql.com/guides/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://fe-developers.kakaoent.com/2022/220113-designing-graphql-mutation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://fe-developers.kakaoent.com/2022/220113-designing-graphql-mutation/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://tv.naver.com/v/16969996",target:"_blank",rel:"noopener noreferrer"}},[t._v("GraphQL API 까짓거 운영해보지 뭐"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://tv.naver.com/v/16970011",target:"_blank",rel:"noopener noreferrer"}},[t._v("GraphQL이 가져온 에어비앤비 프론트앤드 기술의 변천사"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://tv.naver.com/v/23652389",target:"_blank",rel:"noopener noreferrer"}},[t._v("Domain Graph Service를 활용한 광고 서비스의 GraphQL API 구현 사례"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://youtu.be/9G2vT4C4sAY",target:"_blank",rel:"noopener noreferrer"}},[t._v("GraphQL 잘 쓰고 계신가요? (Production-ready GraphQL)"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"ecosystem"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ecosystem"}},[t._v("#")]),t._v(" Ecosystem")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://graphql.org/code/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://graphql.org/code/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/chentsulin/awesome-graphql",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/chentsulin/awesome-graphql"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"graphql-servers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#graphql-servers"}},[t._v("#")]),t._v(" GraphQL Servers")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/graphql/graphql-over-http",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/graphql-over-http"),r("OutboundLink")],1)]),t._v(" "),r("blockquote",[r("p",[t._v("If you want a feature-full server with bleeding edge technologies, you're recommended to use one of the following.")]),t._v(" "),r("p",[t._v("-- "),r("a",{attrs:{href:"https://github.com/graphql/graphql-http#servers",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/graphql-http#servers"),r("OutboundLink")],1)])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/mercurius-js/mercurius",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/mercurius-js/mercurius"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/apollographql/apollo-server",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/apollographql/apollo-server"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/prisma-labs/graphql-yoga",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/prisma-labs/graphql-yoga"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"dataloader"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dataloader"}},[t._v("#")]),t._v(" DataLoader")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/graphql/dataloader",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/dataloader"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://shopify.engineering/solving-the-n-1-problem-for-graphql-through-batching",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://shopify.engineering/solving-the-n-1-problem-for-graphql-through-batching"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.apollographql.com/blog/backend/data-sources/a-deep-dive-on-apollo-data-sources/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.apollographql.com/blog/backend/data-sources/a-deep-dive-on-apollo-data-sources/"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/kriasoft/relay-starter-kit",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/kriasoft/relay-starter-kit"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("데이터로더는 GraphQL에서 발생하는 N+1 문제를 애플리케이션 로직과 분리하여 해결하기 위한 라이브러리이다")]),t._v(" "),r("p",[t._v("GraphQL에서만 사용할 수 있는 것은 아니므로, 다른 곳에서도 동일한 문제를 해결할 수도 있다.\n대표적인 사례로, Prisma에서 데이터로더를 통해 N+1 문제를 해결하고 있다.")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.prisma.io/docs/guides/performance-and-optimization/query-optimization-performance#solving-the-n1-problem",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.prisma.io/docs/guides/performance-and-optimization/query-optimization-performance#solving-the-n1-problem"),r("OutboundLink")],1)]),t._v(" "),r("h4",{attrs:{id:"dataloader-작동방식"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dataloader-작동방식"}},[t._v("#")]),t._v(" DataLoader 작동방식")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/graphql/dataloader#batching",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/dataloader#batching"),r("OutboundLink")],1)]),t._v(" "),r("blockquote",[r("p",[t._v("데이터의 키 배열을 파라미터로 받는 일괄 처리함수를 선언하여 로더를 만든다")])]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" DataLoader "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dataloader'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userLoader "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataLoader")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("keys")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("myBatchGetUsers")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keys"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])]),r("blockquote",[r("p",[t._v("코드 실행 중 로더를 통해 개별 값을 호출하면\n데이터로더는 단일 실행프레임 (JS에서는 이벤트루프의 단일 틱) 내에서 발생하는 모든 개별 호출을 통합한 뒤\n일괄처리 함수를 통해 요청한 모든 키에 대한 값을 반환한다")])]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" userLoader"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" invitedBy "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" userLoader"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("invitedByID"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token template-string"}},[r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("User 1 was invited by ")]),r("span",{pre:!0,attrs:{class:"token interpolation"}},[r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("invitedBy"),r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Elsewhere in your application")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" userLoader"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" lastInvited "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" userLoader"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastInvitedID"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token template-string"}},[r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("User 2 last invited ")]),r("span",{pre:!0,attrs:{class:"token interpolation"}},[r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("lastInvited"),r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br")])]),r("h4",{attrs:{id:"dataloader-일괄처리-함수"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dataloader-일괄처리-함수"}},[t._v("#")]),t._v(" DataLoader 일괄처리 함수")]),t._v(" "),r("blockquote",[r("p",[t._v("일괄처리함수는 데이터의 키 배열을 받아서 키에 대응하는 데이터 또는 오류객체 배열의 프로미스를 반환한다.\n로더는 일괄처리함수에서 "),r("code",[t._v("this")]),t._v(" context로 제공된다.")])]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("batchFunction")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("keys")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" results "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchAllKeys")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keys"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" keys"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" results"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token template-string"}},[r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("No result for ")]),r("span",{pre:!0,attrs:{class:"token interpolation"}},[r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("key"),r("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),r("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" loader "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataLoader")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("batchFunction"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br")])]),r("blockquote",[r("p",[t._v("일괄처리함수는 다음과 같은 제약이 있다")])]),t._v(" "),r("ul",[r("li",[t._v("반환 값의 배열 크기는 입력받은 키 배열의 크기와 같아야 한다")]),t._v(" "),r("li",[t._v("반환 값의 배열 순서는 입력받는 키의 순서에 대응해야 한다")])]),t._v(" "),r("h4",{attrs:{id:"dataloader-캐싱"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dataloader-캐싱"}},[t._v("#")]),t._v(" DataLoader 캐싱")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/graphql/dataloader#caching",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/dataloader#caching"),r("OutboundLink")],1)]),t._v(" "),r("blockquote",[r("p",[t._v("데이터로더는 단일요청(a single request)에서 발생하는 모든 로드("),r("code",[t._v("load")]),t._v(")에 대한 메모이제이션을 제공한다")])]),t._v(" "),r("p",[t._v("💡일반적으로 로더는 GraphQL의 컨텍스트에 주입하여 리졸버에서 호출하는 방식으로 사용한다 (개별 요청마다 생성한다, RequestScope)")]),t._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("createLoaders")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("authToken")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    users"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataLoader")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ids")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("genUsers")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("authToken"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ids"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("express")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\napp"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" authToken "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("authenticateUser")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" loaders "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("createLoaders")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("authToken"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  res"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderPage")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loaders"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\napp"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br")])]),r("h3",{attrs:{id:"graphql-tools"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#graphql-tools"}},[t._v("#")]),t._v(" GraphQL Tools")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/ardatan/graphql-tools",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ardatan/graphql-tools"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.the-guild.dev/graphql/tools/docs/schema-loading#load-graphqlschema-by-using-different-loaders-from-different-sources",target:"_blank",rel:"noopener noreferrer"}},[t._v("schema loading & import expression"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"graphql-config"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#graphql-config"}},[t._v("#")]),t._v(" GraphQL Config")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.the-guild.dev/graphql/config/docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.the-guild.dev/graphql/config/docs"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=GraphQL.vscode-graphql",target:"_blank",rel:"noopener noreferrer"}},[t._v("VSCode 확장"),r("OutboundLink")],1),t._v("기능 사용에 필요")])]),t._v(" "),r("h2",{attrs:{id:"schema-first-code-first"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#schema-first-code-first"}},[t._v("#")]),t._v(" Schema-first, Code-first")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/graphql/graphql-js",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/graphql-js"),r("OutboundLink")],1)]),t._v(" "),r("ul",[r("li",[r("p",[t._v("Schema-first")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("schema.graphql")]),t._v(" 파일을 문자열로 변환하여 "),r("code",[t._v("graphql.buildSchema")]),t._v(" 함수에 전달")]),t._v(" "),r("li",[r("code",[t._v("schema.graphql")]),t._v(" 파일을 대상으로 "),r("a",{attrs:{href:"https://the-guild.dev/graphql/codegen/docs/getting-started",target:"_blank",rel:"noopener noreferrer"}},[t._v("code generation"),r("OutboundLink")],1),t._v(" 실행")])])]),t._v(" "),r("li",[r("p",[t._v("Code-first")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/MichalLytek/type-graphql",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/MichalLytek/type-graphql"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/graphql-nexus/nexus",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql-nexus/nexus"),r("OutboundLink")],1)])])])]),t._v(" "),r("h3",{attrs:{id:"schema-first-graphql-code-generator"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#schema-first-graphql-code-generator"}},[t._v("#")]),t._v(" Schema-first & GraphQL Code Generator")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.the-guild.dev/graphql/codegen/docs/getting-started",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.the-guild.dev/graphql/codegen/docs/getting-started"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"code-first-typegraphql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#code-first-typegraphql"}},[t._v("#")]),t._v(" Code-first & TypeGraphQL")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://typegraphql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://typegraphql.com/"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"graphqlerror"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#graphqlerror"}},[t._v("#")]),t._v(" GraphQLError")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/graphql/graphql-js/blob/main/src/error/GraphQLError.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/graphql-js/blob/main/src/error/GraphQLError.ts"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://spec.graphql.org/draft/#sec-Errors",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://spec.graphql.org/draft/#sec-Errors"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("클라이언트에서 확인 가능한 오류는 "),r("code",[t._v("GraphQLFormattedError")]),t._v("이다")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/graphql/graphql-js/blob/f6227a899aad15a8784d07e442b5df6e5ab16212/src/error/GraphQLError.ts#L218",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/graphql-js/blob/f6227a899aad15a8784d07e442b5df6e5ab16212/src/error/GraphQLError.ts#L218"),r("OutboundLink")],1)]),t._v(" "),r("ul",[r("li",[t._v("message: (짧고 이해할 수 있게 요약한) 오류메시지")]),t._v(" "),r("li",[t._v("locations: 요청 GraphQL doucment(query, mutation)에서 오류가 발생한 위치 (line, column)")]),t._v(" "),r("li",[t._v("path: 필드 처리중 오류가 발생한 경우 해당 필드 (null 응답을 클라이언트에서 구분하기 위함 == 런타임 오류 or 실제 null 응답)")]),t._v(" "),r("li",[t._v("extensions: 추가 정보입력을 위한 값 (자유롭게 사용할 수 있고, 구현체에 따라 다름)")])]),t._v(" "),r("h3",{attrs:{id:"graphqlerror-in-apollo-server"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#graphqlerror-in-apollo-server"}},[t._v("#")]),t._v(" GraphQLError in Apollo Server")]),t._v(" "),r("blockquote",[r("p",[t._v("v4 부터 "),r("code",[t._v("ApolloError")]),t._v(" 클래스 및 "),r("code",[t._v("toApolloError")]),t._v(" 함수는 사라짐")]),t._v(" "),r("p",[t._v("-- "),r("a",{attrs:{href:"https://www.apollographql.com/docs/apollo-server/migration/#apolloerror",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.apollographql.com/docs/apollo-server/migration/#apolloerror"),r("OutboundLink")],1)])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/apollographql/apollo-server/blob/main/packages/server/src/errors/index.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/apollographql/apollo-server/blob/main/packages/server/src/errors/index.ts"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.apollographql.com/docs/apollo-server/data/errors",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.apollographql.com/docs/apollo-server/data/errors"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"graphqlerror-in-apollo-client-core"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#graphqlerror-in-apollo-client-core"}},[t._v("#")]),t._v(" GraphQLError in Apollo Client Core")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.apollographql.com/docs/react/data/error-handling/#graphql-error-policies",target:"_blank",rel:"noopener noreferrer"}},[t._v("error-policies"),r("OutboundLink")],1),t._v(" 설정 값에 따라 오류처리방식이 다르다")]),t._v(" "),r("blockquote",[r("p",[t._v("기본정책("),r("code",[t._v("none")]),t._v(")에서 오류가 발생하면 "),r("code",[t._v("throw new ApolloError({ graphQLErrors: getGraphQLErrorsFromResult(result) });")]),t._v(" 코드가 실행된다")]),t._v(" "),r("p",[t._v("-- "),r("a",{attrs:{href:"https://github.com/apollographql/apollo-client/blob/main/src/core/QueryManager.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/apollographql/apollo-client/blob/main/src/core/QueryManager.ts"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);